(function () {function g(a){return a&&a.__esModule?{d:a.default}:{d:a}}function Va(dest,source){Object.keys(source).forEach(function(key){if(key==="default"||key==="__esModule"){return}Object.defineProperty(dest,key,{enumerable:true,get:function get(){return source[key]}})});return dest}var Kd=this;function nd(r,e){var $rOgi$$interop$default=g(aa);var t=$rOgi$$interop$default.d(r);var $S2Gb$$interop$default=g(yb);if($S2Gb$$interop$default.d){var $=$S2Gb$$interop$default.d(r);var $HDiy$$interop$default=g(sa);e&&($=$HDiy$$interop$default.d($).call($,function(e){var $hmbr$$interop$default=g(L);return $hmbr$$interop$default.d(r,e).enumerable})),t.push.apply(t,$)}return t}function La(r){for(var e=1;e<arguments.length;e++){var t,$=null!=arguments[e]?arguments[e]:{};var $ges0$$interop$default=g(wa);var $vRRw$$interop$default=g(Hb);var $iEQ5$$interop$default=g(gb);if(e%2)$ges0$$interop$default.d(t=nd(Object($),!0)).call(t,function(e){var $bLSz$$interop$default=g(Ia);$bLSz$$interop$default.d(r,e,$[e])});else if($vRRw$$interop$default.d)$iEQ5$$interop$default.d(r,$vRRw$$interop$default.d($));else{var a;$ges0$$interop$default.d(a=nd(Object($))).call(a,function(e){var $u76W$$interop$default=g(mb);var $hmbr$$interop$default=g(L);$u76W$$interop$default.d(r,e,$hmbr$$interop$default.d($,e))})}}return r}var mb={};var Vd={};var b={},zb=function($){return $&&$.Math==Math&&$};b=zb("object"==typeof globalThis&&globalThis)||zb("object"==typeof window&&window)||zb("object"==typeof self&&self)||zb("object"==typeof Kd&&Kd)||Function("return this")();var j={};j=function(r){try{return!!r()}catch(t){return!0}};var c={};c=!j(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]});var nf={}.propertyIsEnumerable,zg=Object.getOwnPropertyDescriptor,Ck=zg&&!nf.call({1:2},1),Cc=Ck?function(r){var e=zg(this,r);return!!e&&e.enumerable}:nf;var A={};A=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}};var K={},ml={}.toString;K=function(r){return ml.call(r).slice(8,-1)};var Nb={},Bl="".split;Nb=j(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return"String"==K(r)?Bl.call(r,""):Object(r)}:Object;var lc={};lc=function(r){if(null==r)throw TypeError("Can't call method on "+r);return r};var u={};u=function(e){return Nb(lc(e))};var p={};p=function(t){return"object"==typeof t?null!==t:"function"==typeof t};var oa={};oa=function(t,r){if(!p(t))return t;var e,i;if(r&&"function"==typeof(e=t.toString)&&!p(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!p(i=e.call(t)))return i;if(!r&&"function"==typeof(e=t.toString)&&!p(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")};var d={},sn={}.hasOwnProperty;d=function(r,e){return sn.call(r,e)};var tb={},Kc=b.document,wn=p(Kc)&&p(Kc.createElement);tb=function($){return wn?Kc.createElement($):{}};var Ge={};Ge=!c&&!j(function(){return 7!=Object.defineProperty(tb("div"),"a",{get:function(){return 7}}).a});var jf=Object.getOwnPropertyDescriptor,Ha=c?jf:function(r,e){if(r=u(r),e=oa(e,!0),Ge)try{return jf(r,e)}catch(t){}if(d(r,e))return A(!Cc.call(r,e),r[e])};var gg={},qn=/#|\.prototype\./,Ga=function($,l){var r=kn[ln($)];return r==fn||r!=hn&&("function"==typeof l?j(l):!!l)},ln=Ga.normalize=function($){return String($).replace(qn,".").toLowerCase()},kn=Ga.data={},hn=Ga.NATIVE="N",fn=Ga.POLYFILL="P";gg=Ga;var h={};h={};var C={};C=function(r){if("function"!=typeof r)throw TypeError(String(r)+" is not a function");return r};var ka={};ka=function(n,r,t){if(C(n),void 0===r)return n;switch(t){case 0:return function(){return n.call(r)};case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,u){return n.call(r,t,e,u)};}return function(){return n.apply(r,arguments)}};var k={};k=function(r){if(!p(r))throw TypeError(String(r)+" is not an object");return r};var hf=Object.defineProperty,G=c?hf:function(r,e,$){if(k(r),e=oa(e,!0),k($),Ge)try{return hf(r,e,$)}catch(t){}if("get"in $||"set"in $)throw TypeError("Accessors not supported");return"value"in $&&(r[e]=$.value),r};var w={};w=c?function(r,e,$){return G(r,e,A(1,$))}:function(r,e,$){return r[e]=$,r};var f={},an=Ha,_m=function(r){var $=function($,e,a){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r($);case 2:return new r($,e);}return new r($,e,a)}return r.apply(this,arguments)};return $.prototype=r.prototype,$};f=function(r,$){var e,a,t,l,n,o,p,N,i=r.target,R=r.global,S=r.stat,c=r.proto,s=R?b:S?b[i]:(b[i]||{}).prototype,v=R?h:h[i]||(h[i]={}),u=v.prototype;for(t in $)e=!gg(R?t:i+(S?".":"#")+t,r.forced)&&s&&d(s,t),n=v[t],e&&(o=r.noTargetGet?(N=an(s,t))&&N.value:s[t]),l=e&&o?o:$[t],e&&typeof n==typeof l||(p=r.bind&&e?ka(l,b):r.wrap&&e?_m(l):c&&"function"==typeof l?ka(Function.call,l):l,(r.sham||l&&l.sham||n&&n.sham)&&w(p,"sham",!0),v[t]=p,c&&(d(h,a=i+"Prototype")||w(h,a,{}),h[a][t]=l,r.real&&u&&!u[t]&&w(u,t,l)))};f({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperty:G});var Ag=h.Object,Wm=Vd=function(e,r,$){return Ag.defineProperty(e,r,$)};Ag.defineProperty.sham&&(Wm.sham=!0);var Rm={};Rm=Vd;mb=Rm;var gb={};var Km={};var Pc={},Fm=Math.ceil,Cm=Math.floor;Pc=function($){return isNaN($=+$)?0:($>0?Cm:Fm)($)};var ba={},Bm=Math.min;ba=function(t){return t>0?Bm(Pc(t),9007199254740991):0};var qc={},Am=Math.max,zm=Math.min;qc=function($,r){var v=Pc($);return v<0?Am(v+r,0):zm(v,r)};var te={},Ee=function(e){return function(r,$,t){var n,c=u(r),s=ba(c.length),o=qc(t,s);if(e&&$!=$){for(;s>o;)if((n=c[o++])!=n)return!0}else for(;s>o;o++)if((e||o in c)&&c[o]===$)return e||o||0;return!e&&-1}};te={includes:Ee(!0),indexOf:Ee(!1)};var Da={};Da={};var Ye={},ym=te.indexOf;Ye=function($,e){var r,a=u($),x=0,n=[];for(r in a)!d(Da,r)&&d(a,r)&&n.push(r);for(;e.length>x;)d(a,r=e[x++])&&(~ym(n,r)||n.push(r));return n};var Za={};Za=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var da={};da=Object.keys||function(e){return Ye(e,Za)};var tf={};tf=c?Object.defineProperties:function(e,r){k(e);for(var $,t=da(r),u=t.length,a=0;u>a;)G(e,$=t[a++],r[$]);return e};f({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperties:tf});var If=h.Object,tm=Km=function(r,e){return If.defineProperties(r,e)};If.defineProperties.sham&&(tm.sham=!0);var nm={};nm=Km;gb=nm;var Hb={};var lm={};var x={},Wc=function($){return"function"==typeof $?$:void 0};x=function($,a){return arguments.length<2?Wc(h[$])||Wc(b[$]):h[$]&&h[$][a]||b[$]&&b[$][a]};var fm=Za.concat("length","prototype"),cd=Object.getOwnPropertyNames||function(e){return Ye(e,fm)};var gc=Object.getOwnPropertySymbols;var dm={};dm=x("Reflect","ownKeys")||function(e){var r=cd(k(e)),$=gc;return $?r.concat($(e)):r};var ia={};ia=function(r,e,p){var $=oa(e);$ in r?G(r,$,A(0,p)):r[$]=p};f({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(r){for(var e,$,t=u(r),a=Ha,o=dm(t),n={},p=0;o.length>p;)void 0!==($=a(t,e=o[p++]))&&ia(n,e,$);return n}});lm=h.Object.getOwnPropertyDescriptors;var cm={};cm=lm;Hb=cm;var wa={};var M={};var vc={};vc=function(){};var D={};D={};var am={};am=function(r,e){try{w(b,r,e)}catch($){b[r]=e}return e};var qa={},Nd="__core-js_shared__",Vl=b[Nd]||am(Nd,{});qa=Vl;var Ud={},Ql=Function.toString;"function"!=typeof qa.inspectSource&&(qa.inspectSource=function(o){return Ql.call(o)}),Ud=qa.inspectSource;var Pl={},_d=b.WeakMap;Pl="function"==typeof _d&&/native code/.test(Ud(_d));var z={};z=!0;var U={};(U=function(r,e){return qa[r]||(qa[r]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.2",mode:z?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"});var $a={},Jl=0,Cl=Math.random();$a=function($){return"Symbol("+String(void 0===$?"":$)+")_"+(++Jl+Cl).toString(36)};var nb={},Me=U("keys");nb=function($){return Me[$]||(Me[$]=$a($))};var Ve,Rb,ff,e={},yl=b.WeakMap,wl=function($){return ff($)?Rb($):Ve($,{})},rl=function($){return function(r){var e;if(!p(r)||(e=Rb(r)).type!==$)throw TypeError("Incompatible receiver, "+$+" required");return e}};if(Pl){var fa=new yl,ql=fa.get,pl=fa.has,ll=fa.set;Ve=function($,r){return ll.call(fa,$,r),r},Rb=function($){return ql.call(fa,$)||{}},ff=function($){return pl.call(fa,$)}}else{var za=nb("state");Da[za]=!0,Ve=function($,r){return w($,za,r),r},Rb=function($){return d($,za)?$[za]:{}},ff=function($){return d($,za)}}e={set:Ve,get:Rb,has:ff,enforce:wl,getterFor:rl};var ca={};ca=function(e){return Object(lc(e))};var kl={};kl=!j(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype});var Sa={},ug=nb("IE_PROTO"),jl=Object.prototype;Sa=kl?Object.getPrototypeOf:function(e){return e=ca(e),d(e,ug)?e[ug]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?jl:null};var I={};I=!!Object.getOwnPropertySymbols&&!j(function(){return!String(Symbol())});var Uc={};Uc=I&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;var a={},pb=U("wks"),Ba=b.Symbol,hl=Uc?Ba:Ba&&Ba.withoutSetter||$a;a=function($){return d(pb,$)||(I&&d(Ba,$)?pb[$]=Ba[$]:pb[$]=hl("Symbol."+$)),pb[$]};var Db,gl,fl,Ob={},od=a("iterator"),dl=!1,cl=function(){return this};[].keys&&("next"in(fl=[].keys())?(gl=Sa(Sa(fl)))!==Object.prototype&&(Db=gl):dl=!0),null==Db&&(Db={}),z||d(Db,od)||w(Db,od,cl),Ob={IteratorPrototype:Db,BUGGY_SAFARI_ITERATORS:dl};var Pb={};Pb=x("document","documentElement");var sd,_={},wd=">",xd="<",Tb="prototype",Ub="script",Dd=nb("IE_PROTO"),Xb=function(){},Fd=function($){return xd+Ub+wd+$+xd+"/"+Ub+wd},bl=function($){$.write(Fd("")),$.close();var r=$.parentWindow.Object;return $=null,r},al=function(){var $,r=tb("iframe"),e="java"+Ub+":";return r.style.display="none",Pb.appendChild(r),r.src=String(e),($=r.contentWindow.document).open(),$.write(Fd("document.F=Object")),$.close(),$.F},ac=function(){try{sd=document.domain&&new ActiveXObject("htmlfile")}catch(r){}ac=sd?bl(sd):al();for(var $=Za.length;$--;)delete ac[Tb][Za[$]];return ac()};Da[Dd]=!0,_=Object.create||function($,r){var e;return null!==$?(Xb[Tb]=k($),e=new Xb,Xb[Tb]=null,e[Dd]=$):e=ac(),void 0===r?e:tf(e,r)};var fc={},Yk=a("toStringTag"),Rd={};Rd[Yk]="z",fc="[object z]"===String(Rd);var ga={},Wk=a("toStringTag"),Vk="Arguments"==K(function(){return arguments}()),Uk=function($,r){try{return $[r]}catch(a){}};ga=fc?K:function($){var r,a,u;return void 0===$?"Undefined":null===$?"Null":"string"==typeof(a=Uk(r=Object($),Wk))?a:Vk?K(r):"Object"==(u=K(r))&&"function"==typeof r.callee?"Arguments":u};var Tk={};Tk=fc?{}.toString:function(){return"[object "+ga(this)+"]"};var bb={},Pk=G,ce=a("toStringTag");bb=function(r,$,e,a){if(r){var n=e?r:r.prototype;d(n,ce)||Pk(n,ce,{configurable:!0,value:$}),a&&!fc&&w(n,"toString",Tk)}};var Kk={},Jk=Ob.IteratorPrototype,Ik=function(){return this};Kk=function(r,e,t){var $=e+" Iterator";return r.prototype=_(Jk,{next:A(1,t)}),bb(r,$,!1,!0),D[$]=Ik,r};var Gk={};Gk=function(r){if(!p(r)&&null!==r)throw TypeError("Can't set "+String(r)+" as a prototype");return r};var Bb={};Bb=Object.setPrototypeOf||("__proto__"in{}?function(){var r,t=!1,e={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),t=e instanceof Array}catch(o){}return function(e,o){return k(e),Gk(o),t?r.call(e,o):e.__proto__=o,e}}():void 0);var X={};X=function(e,r,a,n){n&&n.enumerable?e[r]=a:w(e,r,a)};var Ek={},Dc=Ob.IteratorPrototype,ob=Ob.BUGGY_SAFARI_ITERATORS,Ja=a("iterator"),Le="keys",ub="values",Pe="entries",Re=function(){return this};Ek=function(r,$,e,t,i,a,o){Kk(e,$,t);var P,n,h,F=function(r){if(r===i&&c)return c;if(!ob&&r in l)return l[r];switch(r){case Le:case ub:case Pe:return function(){return new e(this,r)};}return function(){return new e(this)}},v=$+" Iterator",s=!1,l=r.prototype,p=l[Ja]||l["@@iterator"]||i&&l[i],c=!ob&&p||F(i),u="Array"==$&&l.entries||p;if(u&&(P=Sa(u.call(new r)),Dc!==Object.prototype&&P.next&&(z||Sa(P)===Dc||(Bb?Bb(P,Dc):"function"!=typeof P[Ja]&&w(P,Ja,Re)),bb(P,v,!0,!0),z&&(D[v]=Re))),i==ub&&p&&p.name!==ub&&(s=!0,c=function(){return p.call(this)}),z&&!o||l[Ja]===c||w(l,Ja,c),D[$]=c,i)if(n={values:F(ub),keys:a?c:F(Le),entries:F(Pe)},o)for(h in n)!ob&&!s&&h in l||X(l,h,n[h]);else f({target:$,proto:!0,forced:ob||s},n);return n};var Dk="Array Iterator",Hn=e.set,In=e.getterFor(Dk);D.Arguments=D.Array,vc("keys"),vc("values"),vc("entries");var uk={};uk={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};var df=a("toStringTag");for(var Tc in uk){var gf=b[Tc],Oc=gf&&gf.prototype;Oc&&ga(Oc)!==df&&w(Oc,df,Tc),D[Tc]=D.Array}var W={};W=Array.isArray||function(r){return"Array"==K(r)};var mf={},qk=a("species");mf=function(r,a){var $;return W(r)&&("function"!=typeof($=r.constructor)||$!==Array&&!W($.prototype)?p($)&&null===($=$[qk])&&($=void 0):$=void 0),new(void 0===$?Array:$)(0===a?0:a)};var Ya={},jk=[].push,V=function(e){var r=1==e,$=2==e,a=3==e,t=4==e,n=6==e,c=5==e||n;return function(O,i,B,J){for(var N,o,v=ca(O),s=Nb(v),d=ka(i,B,3),h=ba(s.length),l=0,u=J||mf,p=r?u(O,h):$?u(O,0):void 0;h>l;l++)if((c||l in s)&&(o=d(N=s[l],l,v),e))if(r)p[l]=o;else if(o)switch(e){case 3:return!0;case 5:return N;case 6:return l;case 2:jk.call(p,N);}else if(t)return!1;return n?-1:a||t?t:p}};Ya={forEach:V(0),map:V(1),filter:V(2),some:V(3),every:V(4),find:V(5),findIndex:V(6)};var Qb={};Qb=function(r,$){var a=[][r];return!!a&&j(function(){a.call(null,$||function(){throw 1},1)})};var ha={},hk=Object.defineProperty,Ff=function(r){throw r};ha=function(r,$){$||($={});var e=[][r],v=!!d($,"ACCESSORS")&&$.ACCESSORS,a=d($,0)?$[0]:Ff,S=d($,1)?$[1]:void 0;return!!e&&!j(function(){if(v&&!c)return!0;var r={length:-1},$=function($){v?hk(r,$,{enumerable:!0,get:Ff}):r[$]=1};$(1),$(2147483646),$(4294967294),e.call(r,a,S)})};var Hf={},ck=Ya.forEach,$j=Qb("forEach"),Zj=ha("forEach");Hf=$j&&Zj?[].forEach:function(r){return ck(this,r,arguments.length>1?arguments[1]:void 0)};f({target:"Array",proto:!0,forced:[].forEach!=Hf},{forEach:Hf});M=function(r){return h[r+"Prototype"]};var Xj={};Xj=M("Array").forEach;var Vj={};Vj=Xj;var Tj={};var Zf=Array.prototype,Oj={DOMTokenList:!0,NodeList:!0};Tj=function(e){var r=e.forEach;return e===Zf||e instanceof Array&&r===Zf.forEach||Oj.hasOwnProperty(ga(e))?Vj:r};wa=Tj;var L={};var Lj={};var jg=Ha,Jj=j(function(){jg(1)}),Ij=!c||Jj;f({target:"Object",stat:!0,forced:Ij,sham:!c},{getOwnPropertyDescriptor:function(r,$){return jg(u(r),$)}});var og=h.Object,Hj=Lj=function(r,e){return og.getOwnPropertyDescriptor(r,e)};og.getOwnPropertyDescriptor.sham&&(Hj.sham=!0);var Gj={};Gj=Lj;L=Gj;var sa={};var Ej={};var ua={};ua=x("navigator","userAgent")||"";var jc,Vc,qb={},Xc=b.process,Yc=Xc&&Xc.versions,Zc=Yc&&Yc.v8;Zc?Vc=(jc=Zc.split("."))[0]+jc[1]:ua&&(!(jc=ua.match(/Edge\/(\d+)/))||jc[1]>=74)&&(jc=ua.match(/Chrome\/(\d+)/))&&(Vc=jc[1]),qb=Vc&&+Vc;var sb={},Cj=a("species");sb=function($){return qb>=51||!j(function(){var r=[];return(r.constructor={})[Cj]=function(){return{foo:1}},1!==r[$](Boolean).foo})};var Bj=Ya.filter,zj=sb("filter"),yj=ha("filter");f({target:"Array",proto:!0,forced:!zj||!yj},{filter:function(e){return Bj(this,e,arguments.length>1?arguments[1]:void 0)}});Ej=M("Array").filter;var uj={},ed=Array.prototype;uj=function(r){var $=r.filter;return r===ed||r instanceof Array&&$===ed.filter?Ej:$};var tj={};tj=uj;sa=tj;var yb={};var hd={};var id={},jd=cd,sj={}.toString,ld="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],rj=function(e){try{return jd(e)}catch(t){return ld.slice()}};id.f=function(e){return ld&&"[object Window]"==sj.call(e)?rj(e):jd(u(e))};var qj={},pj=G;qj=function(r){var $=h.Symbol||(h.Symbol={});d($,r)||pj($,r,{value:a(r)})};var Ab=Ya.forEach,n=nb("hidden"),Cb="Symbol",F="prototype",td=a("toPrimitive"),oj=e.set,vd=e.getterFor(Cb),v=Object[F],o=b.Symbol,Aa=x("JSON","stringify"),zd=Ha,N=G,Bd=id.f,nj=Cc,J=U("symbols"),Ca=U("op-symbols"),Qc=U("string-to-symbol-registry"),Rc=U("symbol-to-string-registry"),jj=U("wks"),Jb=b.QObject,gj=!Jb||!Jb[F]||!Jb[F].findChild,Kb=c&&j(function(){return 7!=_(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function($,r,e){var a=zd(v,r);a&&delete v[r],N($,r,e),a&&$!==v&&N(v,r,a)}:N,Ld=function($,r){var e=J[$]=_(o[F]);return oj(e,{type:Cb,tag:$,description:r}),c||(e.description=r),e},Lb=Uc?function($){return"symbol"==typeof $}:function($){return Object($)instanceof o},Mb=function($,r,e){$===v&&Mb(Ca,r,e),k($);var a=oa(r,!0);return k(e),d(J,a)?(e.enumerable?(d($,n)&&$[n][a]&&($[n][a]=!1),e=_(e,{enumerable:A(0,!1)})):(d($,n)||N($,n,A(1,{})),$[n][a]=!0),Kb($,a,e)):N($,a,e)},Od=function($,r){k($);var e=u(r),a=da(e).concat(Td(e));return Ab(a,function(r){c&&!Qd.call(e,r)||Mb($,r,e[r])}),$},fj=function($,r){return void 0===r?_($):Od(_($),r)},Qd=function($){var r=oa($,!0),e=nj.call(this,r);return!(this===v&&d(J,r)&&!d(Ca,r))&&(!(e||!d(this,r)||!d(J,r)||d(this,n)&&this[n][r])||e)},ej=function($,r){var e=u($),a=oa(r,!0);if(e!==v||!d(J,a)||d(Ca,a)){var t=zd(e,a);return!t||!d(J,a)||d(e,n)&&e[n][a]||(t.enumerable=!0),t}},dj=function($){var r=Bd(u($)),e=[];return Ab(r,function($){d(J,$)||d(Da,$)||e.push($)}),e},Td=function($){var r=$===v,e=Bd(r?Ca:u($)),a=[];return Ab(e,function($){!d(J,$)||r&&!d(v,$)||a.push(J[$])}),a};if(I||(X((o=function(){if(this instanceof o)throw TypeError("Symbol is not a constructor");var $=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,r=$a($),e=function($){this===v&&e.call(Ca,$),d(this,n)&&d(this[n],r)&&(this[n][r]=!1),Kb(this,r,A(1,$))};return c&&gj&&Kb(v,r,{configurable:!0,set:e}),Ld(r,$)})[F],"toString",function(){return vd(this).tag}),X(o,"withoutSetter",function($){return Ld($a($),$)}),c&&(N(o[F],"description",{configurable:!0,get:function(){return vd(this).description}}),z||X(v,"propertyIsEnumerable",Qd,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!I,sham:!I},{Symbol:o}),Ab(da(jj),function($){qj($)}),f({target:Cb,stat:!0,forced:!I},{for:function($){var r=String($);if(d(Qc,r))return Qc[r];var e=o(r);return Qc[r]=e,Rc[e]=r,e},keyFor:function($){if(!Lb($))throw TypeError($+" is not a symbol");if(d(Rc,$))return Rc[$]},useSetter:function(){gj=!0},useSimple:function(){gj=!1}}),f({target:"Object",stat:!0,forced:!I,sham:!c},{create:fj,defineProperty:Mb,defineProperties:Od,getOwnPropertyDescriptor:ej}),f({target:"Object",stat:!0,forced:!I},{getOwnPropertyNames:dj,getOwnPropertySymbols:Td}),f({target:"Object",stat:!0,forced:j(function(){gc(1)})},{getOwnPropertySymbols:function($){return gc(ca($))}}),Aa){var bj=!I||j(function(){var $=o();return"[null]"!=Aa([$])||"{}"!=Aa({a:$})||"{}"!=Aa(Object($))});f({target:"JSON",stat:!0,forced:bj},{stringify:function($,r,e){for(var a,t=[$],u=1;arguments.length>u;)t.push(arguments[u++]);if(a=r,(p(r)||void 0!==$)&&!Lb($))return W(r)||(r=function($,r){if("function"==typeof a&&(r=a.call(this,$,r)),!Lb(r))return r}),t[1]=r,Aa.apply(null,t)}})}o[F][td]||w(o[F],td,o[F].valueOf),bb(o,Cb),Da[n]=!0;hd=h.Object.getOwnPropertySymbols;var aj={};aj=hd;yb=aj;var aa={};var Xd={};var _i=j(function(){da(1)});f({target:"Object",stat:!0,forced:_i},{keys:function($){return da(ca($))}});Xd=h.Object.keys;var Yi={};Yi=Xd;aa=Yi;var Sb={};var Xi={};var Wi=sb("slice"),Vi=ha("slice",{ACCESSORS:!0,0:0,1:2}),Ui=a("species"),Oi=[].slice,Mi=Math.max;f({target:"Array",proto:!0,forced:!Wi||!Vi},{slice:function(r,$){var e,a,t,h=u(this),E=ba(h.length),o=qc(r,E),n=qc(void 0===$?E:$,E);if(W(h)&&("function"!=typeof(e=h.constructor)||e!==Array&&!W(e.prototype)?p(e)&&null===(e=e[Ui])&&(e=void 0):e=void 0,e===Array||void 0===e))return Oi.call(h,o,n);for(a=new(void 0===e?Array:e)(Mi(n-o,0)),t=0;o<n;o++,t++)o in h&&ia(a,t,h[o]);return a.length=t,a}});Xi=M("Array").slice;var Li={},ge=Array.prototype;Li=function(r){var $=r.slice;return r===ge||r instanceof Array&&$===ge.slice?Xi:$};var Ki={};Ki=Li;Sb=Ki;var Wb={};var Ji={};var Ii={},Hi=Cc,me=function(e){return function(r){for(var $,t=u(r),a=da(t),n=a.length,S=0,o=[];n>S;)$=a[S++],c&&!Hi.call(t,$)||o.push(e?[$,t[$]]:t[$]);return o}};Ii={entries:me(!0),values:me(!1)};var Gi=Ii.entries;f({target:"Object",stat:!0},{entries:function(r){return Gi(r)}});Ji=h.Object.entries;var Ei={};Ei=Ji;Wb=Ei;var pe={};var Ci={};f({target:"Array",stat:!0},{isArray:W});Ci=h.Array.isArray;var Ai={};Ai=Ci;pe=Ai;var yi={};function wi(r){if(pe(r)){for(var a=0,$=new Array(r.length);a<r.length;a++)$[a]=r[a];return $}}yi=wi;var ui={};var ve={};var si={},xe=function(e){return function(r,t){var $,a,c=String(lc(r)),o=Pc(t),b=c.length;return o<0||o>=b?e?"":void 0:($=c.charCodeAt(o))<55296||$>56319||o+1===b||(a=c.charCodeAt(o+1))<56320||a>57343?e?c.charAt(o):$:e?c.slice(o,o+2):a-56320+($-55296<<10)+65536}};si={codeAt:xe(!1),charAt:xe(!0)};var ri=si.charAt,ze="String Iterator",qi=e.set,pi=e.getterFor(ze);Ek(String,"String",function(a){qi(this,{type:ze,string:String(a),index:0})},function(){var a,t=pi(this),e=t.string,r=t.index;return r>=e.length?{value:void 0,done:!0}:(a=ri(e,r),t.index+=a.length,{value:a,done:!1})});var Ce={};Ce=function(r,$,a,t){try{return t?$(k(a)[0],a[1]):$(a)}catch(Q){var e=r.return;throw void 0!==e&&k(e.call(r)),Q}};var De={},oi=a("iterator"),ni=Array.prototype;De=function(r){return void 0!==r&&(D.Array===r||ni[oi]===r)};var dc={},mi=a("iterator");dc=function(r){if(null!=r)return r[mi]||r["@@iterator"]||D[ga(r)]};var ki={};ki=function(r){var e,t,$,a,c,n,o=ca(r),i="function"==typeof this?this:Array,l=arguments.length,M=l>1?arguments[1]:void 0,L=void 0!==M,G=dc(o),v=0;if(L&&(M=ka(M,l>2?arguments[2]:void 0,2)),null==G||i==Array&&De(G))for(t=new i(e=ba(o.length));e>v;v++)n=L?M(o[v],v):o[v],ia(t,v,n);else for(c=(a=G.call(o)).next,t=new i;!($=c.call(a)).done;v++)n=L?Ce(a,M,[$.value,v],!0):$.value,ia(t,v,n);return t.length=v,t};var Je={},Ke=a("iterator"),ii=!1;try{var gi=0,Ne={next:function(){return{done:!!gi++}},return:function(){ii=!0}};Ne[Ke]=function(){return this},Array.from(Ne,function(){throw 2})}catch(error){}Je=function(r,$){if(!$&&!ii)return!1;var o=!1;try{var t={};t[Ke]=function(){return{next:function(){return{done:o=!0}}}},r(t)}catch(error){}return o};var fi=!Je(function(r){Array.from(r)});f({target:"Array",stat:!0,forced:fi},{from:ki});ve=h.Array.from;var ei={};ei=ve;ui=ei;var Qe={};var di={},ci=a("iterator");di=function(r){var $=Object(r);return void 0!==$[ci]||"@@iterator"in $||D.hasOwnProperty(ga($))};var $h={};$h=di;Qe=$h;var Yh={};function Xh(r){if(Qe(Object(r))||"[object Arguments]"===Object.prototype.toString.call(r))return ui(r)}Yh=Xh;var Rh={};function Lh(){throw new TypeError("Invalid attempt to spread non-iterable instance")}Rh=Lh;var kc={};function Jh(r){return yi(r)||Yh(r)||Rh()}kc=Jh;var Fh={};var Eh={};Eh=Vd;Fh=Eh;var Ia={};function Bh(e,r,$){return r in e?Fh(e,r,{value:$,enumerable:!0,configurable:!0,writable:!0}):e[r]=$,e}Ia=Bh;var zh={};function yh(r){if(pe(r))return r}zh=yh;var xh={};var wh={};wh=function(r){var e=dc(r);if("function"!=typeof e)throw TypeError(String(r)+" is not iterable");return k(e.call(r))};var rh={};rh=wh;xh=rh;var qh={};function ph(r,e){if(Qe(Object(r))||"[object Arguments]"===Object.prototype.toString.call(r)){var a=[],t=!0,$=!1,i=void 0;try{for(var o,l=xh(r);!(t=(o=l.next()).done)&&(a.push(o.value),!e||a.length!==e);t=!0);}catch(y){$=!0,i=y}finally{try{t||null==l.return||l.return()}finally{if($)throw i}}return a}}qh=ph;var nh={};function lh(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}nh=lh;var rc={};function kh(r,$){return zh(r)||qh(r,$)||nh()}rc=kh;var tc={};var pf={},qf=function(t){var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,r,e,n){var o=r&&r.prototype instanceof v?r:v,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(t,r,e){var n=f;return function(o,i){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return G()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=_(a,e);if(c){if(c===y)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===f)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=l;var u=h(t,r,e);if("normal"===u.type){if(n=e.done?p:s,u.arg===y)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=p,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function h(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f="suspendedStart",s="suspendedYield",l="executing",p="completed",y={};function v(){}function d(){}function g(){}var m={};m[i]=function(){return this};var w=Object.getPrototypeOf,L=w&&w(w(k([])));L&&L!==e&&n.call(L,i)&&(m=L);var x=g.prototype=v.prototype=Object.create(m);function E(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function b(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=h(t[e],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?Promise.resolve(f.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(f).then(function(t){u.value=t,i(u)},function(t){return r("throw",t,i,a)})}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function _(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,_(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function $(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function O(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:G}}function G(){return{value:r,done:!0}}return d.prototype=x.constructor=g,g.constructor=d,g[c]=d.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===d||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(b.prototype),b.prototype[a]=function(){return this},t.AsyncIterator=b,t.async=function(r,e,n,o){var i=new b(u(r,e,n,o));return t.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),x[c]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),O(e),y}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;O(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}},t}(pf);try{regeneratorRuntime=qf}catch(accidentalStrictMode){Function("r","regeneratorRuntime = r")(qf)}tc=pf;var rb={};var jh={};var hh=Ya.map,gh=sb("map"),fh=ha("map");f({target:"Array",proto:!0,forced:!gh||!fh},{map:function(r){return hh(this,r,arguments.length>1?arguments[1]:void 0)}});jh=M("Array").map;var dh={},xf=Array.prototype;dh=function(r){var a=r.map;return r===xf||r instanceof Array&&a===xf.map?jh:a};var ch={};ch=dh;rb=ch;var q={};var ah={};var Bf=a("isConcatSpreadable"),Cf=9007199254740991,Df="Maximum allowed index exceeded",$g=qb>=51||!j(function(){var r=[];return r[Bf]=!1,r.concat()[0]!==r}),Yg=sb("concat"),Xg=function(r){if(!p(r))return!1;var $=r[Bf];return void 0!==$?!!$:W(r)},Wg=!$g||!Yg;f({target:"Array",proto:!0,forced:Wg},{concat:function(r){var $,e,a,s,u,R=ca(this),t=mf(R,0),L=0;for($=-1,a=arguments.length;$<a;$++)if(u=-1===$?R:arguments[$],Xg(u)){if(L+(s=ba(u.length))>Cf)throw TypeError(Df);for(e=0;e<s;e++,L++)e in u&&ia(t,L,u[e])}else{if(L>=Cf)throw TypeError(Df);ia(t,L++,u)}return t.length=L,t}});ah=M("Array").concat;var Vg={},Jf=Array.prototype;Vg=function(r){var a=r.concat;return r===Jf||r instanceof Array&&a===Jf.concat?ah:a};var Ug={};Ug=Vg;q=Ug;var Lf={};var Mf={};var r={};r=b.Promise;var Tg={};Tg=function(e,r,$){for(var f in r)$&&$.unsafe&&e[f]?e[f]=r[f]:X(e,f,r[f],$);return e};var Qg={},Qf=a("species");Qg=function($){var e=x($),r=G;c&&e&&!e[Qf]&&r(e,Qf,{configurable:!0,get:function(){return this}})};var Pg={};Pg=function(r,o,n){if(!(r instanceof o))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return r};var Qa={},Ra=function(a,r){this.stopped=a,this.result=r},Ng=Qa=function(a,r,e,t,$){var n,i,o,l,b,s,H,J=ka(r,e,t?2:1);if($)n=a;else{if("function"!=typeof(i=dc(a)))throw TypeError("Target is not iterable");if(De(i)){for(o=0,l=ba(a.length);l>o;o++)if((b=t?J(k(H=a[o])[0],H[1]):J(a[o]))&&b instanceof Ra)return b;return new Ra(!1)}n=i.call(a)}for(s=n.next;!(H=s.call(n)).done;)if("object"==typeof(b=Ce(n,J,H.value,t))&&b&&b instanceof Ra)return b;return new Ra(!1)};Ng.stop=function(a){return new Ra(!0,a)};var Vf={},Lg=a("species");Vf=function($,l){var r,n=k($).constructor;return void 0===n||null==(r=k(n)[Lg])?l:C(r)};var Xf={};Xf=/(iphone|ipod|ipad).*applewebkit/i.test(ua);var Jg,Ig,$f,_f={},ag=b.location,bg=b.setImmediate,cg=b.clearImmediate,dg=b.process,eg=b.MessageChannel,Ic=b.Dispatch,Jc=0,Ta={},ig="onreadystatechange",Lc=function($){if(Ta.hasOwnProperty($)){var r=Ta[$];delete Ta[$],r()}},Mc=function($){return function(){Lc($)}},lg=function($){Lc($.data)},mg=function($){b.postMessage($+"",ag.protocol+"//"+ag.host)};bg&&cg||(bg=function($){for(var r=[],a=1;arguments.length>a;)r.push(arguments[a++]);return Ta[++Jc]=function(){("function"==typeof $?$:Function($)).apply(void 0,r)},Jg(Jc),Jc},cg=function($){delete Ta[$]},"process"==K(dg)?Jg=function($){dg.nextTick(Mc($))}:Ic&&Ic.now?Jg=function($){Ic.now(Mc($))}:eg&&!Xf?($f=(Ig=new eg).port2,Ig.port1.onmessage=lg,Jg=ka($f.postMessage,$f,1)):!b.addEventListener||"function"!=typeof postMessage||b.importScripts||j(mg)?Jg=ig in tb("script")?function($){Pb.appendChild(tb("script"))[ig]=function(){Pb.removeChild(this),Lc($)}}:function($){setTimeout(Mc($),0)}:(Jg=mg,b.addEventListener("message",lg,!1))),_f={set:bg,clear:cg};var Eb,Ua,pg,qg,Gg,Ad,tg,Eg,vg={},fk=Ha,Dg=_f.set,yg=b.MutationObserver||b.WebKitMutationObserver,Sc=b.process,Ac=b.Promise,Bg="process"==K(Sc),xg=fk(b,"queueMicrotask"),wg=xg&&xg.value;wg||(Eb=function(){var $,t;for(Bg&&($=Sc.domain)&&$.exit();Ua;){t=Ua.fn,Ua=Ua.next;try{t()}catch(r){throw Ua?qg():pg=void 0,r}}pg=void 0,$&&$.enter()},Bg?qg=function(){Sc.nextTick(Eb)}:yg&&!Xf?(Gg=!0,Ad=document.createTextNode(""),new yg(Eb).observe(Ad,{characterData:!0}),qg=function(){Ad.data=Gg=!Gg}):Ac&&Ac.resolve?(tg=Ac.resolve(void 0),Eg=tg.then,qg=function(){Eg.call(tg,Eb)}):qg=function(){Dg.call(b,Eb)}),vg=wg||function($){var t={fn:$,next:void 0};pg&&(pg.next=t),Ua||(Ua=t,qg()),pg=t};var R={},Fg=function(t){var r,e;this.promise=new t(function(t,i){if(void 0!==r||void 0!==e)throw TypeError("Bad Promise constructor");r=t,e=i}),this.resolve=C(r),this.reject=C(e)};R.f=function(t){return new Fg(t)};var Gb={};Gb=function(a,r){if(k(a),p(r)&&r.constructor===a)return r;var e=R.f(a);return(0,e.resolve)(r),e.promise};var Hg={};Hg=function(r,$){var e=b.console;e&&e.error&&(1===arguments.length?e.error(r):e.error(r,$))};var ea={};ea=function(r){try{return{error:!1,value:r()}}catch(e){return{error:!0,value:e}}};var Yf,Kg,Wf,Mg,Uf=_f.set,Og=a("species"),t="Promise",Pf=e.get,Rg=e.set,Sg=e.getterFor(t),m=r,Kf=b.TypeError,Bc=b.document,wb=b.process,Gf=x("fetch"),Oa=R.f,Zg=Oa,Na="process"==K(wb),_g=!!(Bc&&Bc.createEvent&&b.dispatchEvent),Af="unhandledrejection",bh="rejectionhandled",yf=0,wf=1,eh=2,wc=1,uf=2,Ma=gg(t,function(){if(!(Ud(m)!==String(m))){if(66===qb)return!0;if(!Na&&"function"!=typeof PromiseRejectionEvent)return!0}if(z&&!m.prototype.finally)return!0;if(qb>=51&&/native code/.test(m))return!1;var $=m.resolve(1),r=function($){$(function(){},function(){})};return($.constructor={})[Og]=r,!($.then(function(){})instanceof r)}),ih=Ma||!Je(function($){m.all($).catch(function(){})}),sf=function($){var r;return!(!p($)||"function"!=typeof(r=$.then))&&r},sc=function($,r,e){if(!r.notified){r.notified=!0;var a=r.reactions;vg(function(){for(var c=r.value,t=r.state==wf,n=0;a.length>n;){var i,o,v,G=a[n++],s=t?G.ok:G.fail,z=G.resolve,Z=G.reject,l=G.domain;try{s?(t||(r.rejection===uf&&oh($,r),r.rejection=wc),!0===s?i=c:(l&&l.enter(),i=s(c),l&&(l.exit(),v=!0)),i===G.promise?Z(Kf("Promise-chain cycle")):(o=sf(i))?o.call(i,z,Z):z(i)):Z(c)}catch(u){l&&!v&&l.exit(),Z(u)}}r.reactions=[],r.notified=!1,e&&!r.rejection&&mh($,r)})}},lf=function($,r,e){var a,c;_g?((a=Bc.createEvent("Event")).promise=r,a.reason=e,a.initEvent($,!1,!0),b.dispatchEvent(a)):a={promise:r,reason:e},(c=b["on"+$])?c(a):$===Af&&Hg("Unhandled promise rejection",e)},mh=function($,r){Uf.call(b,function(){var e,a=r.value;if(kf(r)&&(e=ea(function(){Na?wb.emit("unhandledRejection",a,$):lf(Af,$,a)}),r.rejection=Na||kf(r)?uf:wc,e.error))throw e.value})},kf=function($){return $.rejection!==wc&&!$.parent},oh=function($,r){Uf.call(b,function(){Na?wb.emit("rejectionHandled",$):lf(bh,$,r.value)})},na=function($,r,e,a){return function(c){$(r,e,c,a)}},ma=function($,r,e,a){r.done||(r.done=!0,a&&(r=a),r.value=e,r.state=eh,sc($,r,!0))},oc=function($,r,e,a){if(!r.done){r.done=!0,a&&(r=a);try{if($===e)throw Kf("Promise can't be resolved itself");var c=sf(e);c?vg(function(){var a={done:!1};try{c.call(e,na(oc,$,a,r),na(ma,$,a,r))}catch(t){ma($,a,t,r)}}):(r.value=e,r.state=wf,sc($,r,!1))}catch(t){ma($,{done:!1},t,r)}}};Ma&&(m=function($){Pg(this,m,t),C($),Yf.call(this);var r=Pf(this);try{$(na(oc,this,r),na(ma,this,r))}catch(e){ma(this,r,e)}},(Yf=function($){Rg(this,{type:t,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:yf,value:void 0})}).prototype=Tg(m.prototype,{then:function($,r){var e=Sg(this),a=Oa(Vf(this,m));return a.ok="function"!=typeof $||$,a.fail="function"==typeof r&&r,a.domain=Na?wb.domain:void 0,e.parent=!0,e.reactions.push(a),e.state!=yf&&sc(this,e,!1),a.promise},catch:function($){return this.then(void 0,$)}}),Kg=function(){var $=new Yf,r=Pf($);this.promise=$,this.resolve=na(oc,$,r),this.reject=na(ma,$,r)},R.f=Oa=function($){return $===m||$===Wf?new Kg($):Zg($)},z||"function"!=typeof r||(Mg=r.prototype.then,X(r.prototype,"then",function($,r){var e=this;return new m(function($,r){Mg.call(e,$,r)}).then($,r)},{unsafe:!0}),"function"==typeof Gf&&f({global:!0,enumerable:!0,forced:!0},{fetch:function($){return Gb(m,Gf.apply(b,arguments))}}))),f({global:!0,wrap:!0,forced:Ma},{Promise:m}),bb(m,t,!1,!0),Qg(t),Wf=x(t),f({target:t,stat:!0,forced:Ma},{reject:function($){var r=Oa(this);return r.reject.call(void 0,$),r.promise}}),f({target:t,stat:!0,forced:z||Ma},{resolve:function($){return Gb(z&&this===Wf?m:this,$)}}),f({target:t,stat:!0,forced:ih},{all:function($){var r=this,e=Oa(r),a=e.resolve,c=e.reject,t=ea(function(){var e=C(r.resolve),t=[],n=0,i=1;Qa($,function($){var o=n++,v=!1;t.push(void 0),i++,e.call(r,$).then(function($){v||(v=!0,t[o]=$,--i||a(t))},c)}),--i||a(t)});return t.error&&c(t.value),e.promise},race:function($){var r=this,e=Oa(r),a=e.reject,c=ea(function(){var c=C(r.resolve);Qa($,function($){c.call(r,$).then(e.resolve,a)})});return c.error&&a(c.value),e.promise}});f({target:"Promise",stat:!0},{allSettled:function(r){var e=this,a=R.f(e),$=a.resolve,t=a.reject,i=ea(function(){var a=C(e.resolve),t=[],i=0,s=1;Qa(r,function(r){var n=i++,l=!1;t.push(void 0),s++,a.call(e,r).then(function(r){l||(l=!0,t[n]={status:"fulfilled",value:r},--s||$(t))},function(r){l||(l=!0,t[n]={status:"rejected",reason:r},--s||$(t))})}),--s||$(t)});return i.error&&t(i.value),a.promise}});var sh=!!r&&j(function(){r.prototype.finally.call({then:function(){}},function(){})});f({target:"Promise",proto:!0,real:!0,forced:sh},{finally:function(r){var e=Vf(this,x("Promise")),$="function"==typeof r;return this.then($?function($){return Gb(e,r()).then(function(){return $})}:r,$?function($){return Gb(e,r()).then(function(){throw $})}:r)}}),z||"function"!=typeof r||r.prototype.finally||X(r.prototype,"finally",x("Promise").prototype.finally);Mf=h.Promise;var th={};var uh=e.set,vh=e.getterFor("AggregateError"),la=function(r,e){var $=this;if(!($ instanceof la))return new la(r,e);Bb&&($=Bb(new Error(e),Sa($)));var t=[];return Qa(r,t.push,t),c?uh($,{errors:t,type:"AggregateError"}):$.errors=t,void 0!==e&&w($,"message",String(e)),$};la.prototype=_(Error.prototype,{constructor:A(5,la),message:A(5,""),name:A(5,"AggregateError")}),c&&G(la.prototype,"errors",{get:function(){return vh(this).errors},configurable:!0}),f({global:!0},{AggregateError:la});f({target:"Promise",stat:!0},{try:function(e){var r=R.f(this),$=ea(e);return($.error?r.reject:r.resolve)($.value),r.promise}});var ef="No one promise resolved";f({target:"Promise",stat:!0},{any:function(r){var e=this,$=R.f(e),a=$.resolve,i=$.reject,t=ea(function(){var $=C(e.resolve),t=[],n=0,m=1,o=!1;Qa(r,function(r){var l=n++,v=!1;t.push(void 0),m++,$.call(e,r).then(function(r){v||o||(o=!0,a(r))},function(r){v||o||(v=!0,t[l]=r,--m||i(new(x("AggregateError"))(t,ef)))})}),--m||i(new(x("AggregateError"))(t,ef))});return t.error&&i(t.value),$.promise}});th=Mf;Lf=th;var mc={};function cf(r,e,$,n,a,o,t){try{var y=r[o](t),f=y.value}catch(v){return void $(v)}y.done?e(f):Lf.resolve(f).then(n,a)}function Ah(r){return function(){var e=this,$=arguments;return new Lf(function(n,a){var o=r.apply(e,$);function t(r){cf(o,n,a,t,y,"next",r)}function y(r){cf(o,n,a,t,y,"throw",r)}t(void 0)})}}mc=Ah;var bf={};var Ch={};var Dh=te.indexOf,_e=[].indexOf,$e=!!_e&&1/[1].indexOf(1,-0)<0,Gh=Qb("indexOf"),Hh=ha("indexOf",{ACCESSORS:!0,1:0});f({target:"Array",proto:!0,forced:$e||!Gh||!Hh},{indexOf:function($){return $e?_e.apply(this,arguments)||0:Dh(this,$,arguments.length>1?arguments[1]:void 0)}});Ch=M("Array").indexOf;var Ih={},Ze=Array.prototype;Ih=function(r){var t=r.indexOf;return r===Ze||r instanceof Array&&t===Ze.indexOf?Ch:t};var Kh={};Kh=Ih;bf=Kh;var Xe={};var Mh={};Mh=hd;Xe=Mh;var Nh={};var Oh={};Oh=Xd;Nh=Oh;var Ph={};function Qh(e,r){if(null==e)return{};var $,i,t={},o=Nh(e);for(i=0;i<o.length;i++)$=o[i],bf(r).call(r,$)>=0||(t[$]=e[$]);return t}Ph=Qh;var We={};function Sh(e,r){if(null==e)return{};var t,o,$=Ph(e,r);if(Xe){var a=Xe(e);for(o=0;o<a.length;o++)t=a[o],bf(r).call(r,t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&($[t]=e[t])}return $}We=Sh;var Th,Uh,Vh,Wh;const l=Symbol();const Ue=()=>{};var Zh,Te;(function($){$[$.FINE=0]="FINE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.SEVERE=4]="SEVERE",$[$.NONE=5]="NONE"})(Te||(Zh=Te={},Zh));const _h=Object.freeze({level:Te.NONE,fine(){},debug(){},info(){},warn(){},severe(){}});const ai=(e,t={})=>{const o=Reflect.ownKeys(e),r=Reflect.ownKeys(t),n=Symbol("isa");function p(t){for(let r of o){const o=Object.getOwnPropertyDescriptor(t.prototype,r);!o||o.configurable?Object.defineProperty(t.prototype,r,{value:e[r],writable:!0}):console.log(`not patching: ${t.name}.${r.toString()}`)}return Object.defineProperty(t.prototype,n,{value:!0}),t}for(let l of r)Object.defineProperty(p,l,{value:t[l],enumerable:t.propertyIsEnumerable(l)});return Object.defineProperty(p,Symbol.hasInstance,{value:e=>!!e[n]}),p};const bi=ai({addWatch(i,t){return this._watches=this._watches||{},!this._watches[i]&&(this._watches[i]=t,!0)},removeWatch(i){if(this._watches)return!!this._watches[i]&&(delete this._watches[i],!0)},notifyWatches(i,t){if(!this._watches)return;const e=this._watches;for(let h in e)e[h](h,i,t)}});(function($){$[$.IDLE=0]="IDLE",$[$.ACTIVE=1]="ACTIVE",$[$.DONE=2]="DONE",$[$.ERROR=3]="ERROR",$[$.DISABLED=4]="DISABLED"})(Vh||(Th=Vh={},Th)),function($){$[$.NEVER=0]="NEVER",$[$.FIRST=1]="FIRST",$[$.LAST=2]="LAST"}(Wh||(Uh=Wh={},Uh));let E=_h;function*hc($,o){const r=$([Ue,Ue,($,o)=>o])[2];for(let e of o){let $=r(l,e);if(ye($))return void(($=bc($.deref()))!==l&&(yield $));$!==l&&(yield $)}}const P=i=>"function"==typeof i;const Oe=(e,n)=>null!=e&&"function"==typeof e[n];const Y=Array.isArray;const hi=o=>"boolean"==typeof o;const ec=t=>"string"==typeof t;const ji=$=>$ instanceof Map;const Ie=t=>null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator];const li=$=>null===$;const He=t=>null!==t&&"object"==typeof t;const Fe=Object.getPrototypeOf,cc=$=>{let t;return null!=$&&"object"==typeof $&&(null===(t=Fe($))||null===Fe(t))};const Be=s=>s instanceof Promise;class Ae{constructor(e){this.value=e}deref(){return this.value}}const ye=e=>e instanceof Ae;const bc=e=>e instanceof Ae?e.deref():e;function ti($){return $?[...$]:Di(()=>[],($,r)=>($.push(r),$))}const ib=(r,o=r=>void 0!==r?": "+r:"")=>class extends Error{constructor(e){super(r(e)+o(e))}};const vi=ib(()=>"illegal argument(s)");const _b=r=>{throw new vi(r)};const xi=ib(()=>"illegal arity");const $b=r=>{throw new xi(r)};const zi=ib(()=>"illegal state");const re=r=>{throw new zi(r)};const Bi=ib(()=>"unsupported operation");const Zb=r=>{throw new Bi(r)};const Di=(e,r)=>[e,e=>e,r];function T(r,$){return $?hc(T(r),$):$=>{const e=$[2];return Fi($,($,p)=>e($,r(p)))}}const Fi=(o,$)=>[o[0],o[1],$];function ne(...e){let[a,r,$,t,o,c,p,n,s,u]=e;switch(e.length){case 0:$b(0);case 1:return a;case 2:return(...e)=>a(r(...e));case 3:return(...e)=>a(r($(...e)));case 4:return(...e)=>a(r($(t(...e))));case 5:return(...e)=>a(r($(t(o(...e)))));case 6:return(...e)=>a(r($(t(o(c(...e))))));case 7:return(...e)=>a(r($(t(o(c(p(...e)))))));case 8:return(...e)=>a(r($(t(o(c(p(n(...e))))))));case 9:return(...e)=>a(r($(t(o(c(p(n(s(...e)))))))));case 10:default:const B=(...e)=>a(r($(t(o(c(p(n(s(u(...e))))))))));return 10===e.length?B:ne(B,...e.slice(10));}}const le=Object.getPrototypeOf({}),B=(e,t)=>{let n;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=(n=Object.getPrototypeOf(e))&&n!==le||null!=(n=Object.getPrototypeOf(t))&&n!==le?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?je(e,t):e instanceof Set&&t instanceof Set?he(e,t):e instanceof Map&&t instanceof Map?fe(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:ee(e,t)))};const je=(e,t,n=B)=>{let $=e.length;if($===t.length)for(;--$>=0&&n(e[$],t[$]););return $<0};const he=(e,t,n=B)=>e.size===t.size&&n([...e.keys()].sort(),[...t.keys()].sort());const fe=(e,t,n=B)=>e.size===t.size&&n([...e].sort(),[...t].sort());const ee=(e,t,n=B)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let $ in e)if(!t.hasOwnProperty($)||!n(e[$],t[$]))return!1;return!0};const Ni=e=>e[e.length-1];function de(...$){return ne.apply(null,$)}const Pi=e=>{const r=Object.keys(e),[t,n,o]=r,[s,i,c]=r.map(r=>e[r]);switch(r.length){case 3:return e=>{const r={};let $;return void 0!==($=e[c])&&(r[o]=$),void 0!==($=e[i])&&(r[n]=$),void 0!==($=e[s])&&(r[t]=$),r};case 2:return e=>{const r={};let o;return void 0!==(o=e[i])&&(r[n]=o),void 0!==(o=e[s])&&(r[t]=o),r};case 1:return e=>{const r={};let n=e[s];return void 0!==n&&(r[t]=n),r};default:return t=>{let n,o;const s={};for(let i=r.length-1;i>=0;i--)n=r[i],void 0!==(o=t[e[n]])&&(s[n]=o);return s};}};function Qi($,t){return t?hc(Qi($),t):T(t=>t[$])}function Ri(e,$){return $?hc(Ri(e),$):T(Si(e))}const Si=e=>Pi(e.reduce((e,r)=>(e[r]=r,e),{}));let Ti=0;const Vb=()=>Ti++;const fb=($,e)=>e&&e.id?e:Object.assign(Object.assign({},e),{id:$+"-"+Vb()});const ae=(t,s)=>new Ea(t,s);class Ea{constructor(t,s={}){this.state=0,this.parent=s.parent,this.closeIn=void 0!==s.closeIn?s.closeIn:2,this.closeOut=void 0!==s.closeOut?s.closeOut:2,this.cacheLast=!1!==s.cache,this.id=s.id||`sub-${Vb()}`,this.last=l,this.subs=[],t&&this.subs.push(t),s.xform&&(this.xform=s.xform(ti()))}deref(){return this.last!==l?this.last:void 0}getState(){return this.state}subscribe(...t){let s;this.ensureState();let e=t.length>1&&cc(Ni(t))?Object.assign({},t.pop()):{};switch(t.length){case 1:P(t[0])?(e.xform=t[0],!e.id&&(e.id=`xform-${Vb()}`)):s=t[0];break;case 2:s=t[0],e.xform=t[1];break;default:$b(t.length);}return Oe(s,"subscribe")?s.parent=this:s=ae(s,Object.assign({parent:this},e)),this.last!==l&&s.next(this.last),this.addWrapped(s)}subscribeAll(...t){const s=[];for(let e of t)s.push(this.subscribe(e));return s}transform(...t){const s=t.length-1;return cc(t[s])?this.subscribe(de(...t.slice(0,s)),t[s]):this.subscribe(de(...t))}unsubscribe(t){if(E.debug(this.id,"unsub start",t?t.id:"self"),!t){let t=!0;return this.parent&&(t=this.parent.unsubscribe(this)),this.state=2,this.cleanup(),t}if(this.subs){E.debug(this.id,"unsub child",t.id);const s=this.subs.indexOf(t);if(s>=0)return this.subs.splice(s,1),(1===this.closeOut||!this.subs.length&&0!==this.closeOut)&&this.unsubscribe(),!0}return!1}next(t){if(this.state<2)if(this.xform){const s=this.xform[2]([],t),e=bc(s),i=e.length;for(let t=0;t<i;t++)this.dispatch(e[t]);ye(s)&&this.done()}else this.dispatch(t)}done(){if(E.debug(this.id,"entering done()"),this.state<2){if(this.xform){const t=this.xform[1]([]),s=bc(t),e=s.length;for(let i=0;i<e;i++)this.dispatch(s[i])}this.state=2;for(let s of[...this.subs])try{s.done&&s.done()}catch(t){s.error?s.error(t):this.error(t)}this.unsubscribe(),E.debug(this.id,"exiting done()")}}error(t){this.state=3;let s=!1;if(this.subs&&this.subs.length)for(let e of this.subs.slice())e.error&&(e.error(t),s=!0);s||(E.warn(this.id,"unhandled error:",t),this.parent&&(E.debug(this.id,"unsubscribing..."),this.unsubscribe(),this.state=3))}addWrapped(t){return this.subs.push(t),this.state=1,t}dispatch(t){this.cacheLast&&(this.last=t);const s=this.subs;let e;if(1===s.length){e=s[0];try{e.next&&e.next(t)}catch(i){e.error?e.error(i):this.error(i)}}else for(let r=s.length;--r>=0;){e=s[r];try{e.next&&e.next(t)}catch(i){e.error?e.error(i):this.error(i)}}}ensureState(){this.state>=2&&re(`operation not allowed in state ${this.state}`)}cleanup(){E.debug(this.id,"cleanup"),this.subs.length=0,delete this.parent,delete this.xform,delete this.last}}function Zd(o,$){for(let e of $)o.delete(e);return o}const Zi=(e,r)=>{if(e===r)return!0;if(!(r instanceof Map)||e.size!==r.size)return!1;for(let t of e.entries())if(!B(r.get(t[0]),t[1]))return!1;return!0};const $i=(e,r)=>{if(e===r)return!0;if(!(r instanceof Set)||e.size!==r.size)return!1;for(let t of e.keys())if(!r.has(t))return!1;return!0};function Yd($,e){if(ji($))for(let t of e)$.set(t[0],t[1]);else for(let t of e)$.add(t);return $}const Q=new WeakMap,H=r=>Q.get(r).vals;class cj extends Set{constructor(r,e={}){super(),Q.set(this,{equiv:e.equiv||B,vals:[]}),r&&this.into(r)}*[Symbol.iterator](){yield*H(this)}get[Symbol.species](){return $M7Gr$export$ArraySet}get[Symbol.toStringTag](){return"ArraySet"}get size(){return H(this).length}copy(){const r=Q.get(this),e=new $M7Gr$export$ArraySet(null,{equiv:r.equiv});return Q.get(e).vals=r.vals.slice(),e}empty(){return new $M7Gr$export$ArraySet(null,this.opts())}clear(){H(this).length=0}first(){if(this.size)return H(this)[0]}add(r){return!this.has(r)&&H(this).push(r),this}into(r){return Yd(this,r)}has(r){return this.get(r,l)!==l}get(r,e){const t=Q.get(this),$=t.equiv,i=t.vals;for(let s=i.length;--s>=0;)if($(i[s],r))return i[s];return e}delete(r){const e=Q.get(this),t=e.equiv,$=e.vals;for(let i=$.length;--i>=0;)if(t($[i],r))return $.splice(i,1),!0;return!1}disj(r){return Zd(this,r)}equiv(r){return $i(this,r)}forEach(r,e){const t=H(this);for(let $=t.length;--$>=0;){const i=t[$];r.call(e,i,i,this)}}*entries(){for(let r of H(this))yield[r,r]}*keys(){yield*H(this)}*values(){yield*H(this)}opts(){return{equiv:Q.get(this).equiv}}}const s=new WeakMap,_a=e=>s.get(e).map;class Pd extends Map{static fromObject(e,t){const r=new $CE46$export$EquivMap(null,Object.assign({equiv:(e,t)=>e===t},t));for(let $ in e)e.hasOwnProperty($)&&r.set($,e[$]);return r}constructor(e,t){super();const r=Object.assign({equiv:B,keys:cj},t);s.set(this,{keys:new r.keys(null,{equiv:r.equiv}),map:new Map,opts:r}),e&&this.into(e)}[Symbol.iterator](){return this.entries()}get[Symbol.species](){return $CE46$export$EquivMap}get[Symbol.toStringTag](){return"EquivMap"}get size(){return s.get(this).keys.size}clear(){const e=s.get(this);e.keys.clear(),e.map.clear()}empty(){return new $CE46$export$EquivMap(null,s.get(this).opts)}copy(){const e=s.get(this),t=new $CE46$export$EquivMap;return s.set(t,{keys:e.keys.copy(),map:new Map(e.map),opts:e.opts}),t}equiv(e){return Zi(this,e)}delete(e){const t=s.get(this);return(e=t.keys.get(e,l))!==l&&(t.map.delete(e),t.keys.delete(e),!0)}dissoc(e){return Zd(this,e)}forEach(e,t){for(let r of _a(this))e.call(t,r[1],r[0],this)}get(e,t){const r=s.get(this);return(e=r.keys.get(e,l))!==l?r.map.get(e):t}has(e){return s.get(this).keys.has(e)}set(e,t){const r=s.get(this),$=r.keys.get(e,l);return $!==l?r.map.set($,t):(r.keys.add(e),r.map.set(e,t)),this}into(e){return Yd(this,e)}entries(){return _a(this).entries()}keys(){return _a(this).keys()}values(){return _a(this).values()}opts(){return s.get(this).opts}}const Jd=i=>new hj(i);class hj extends Ea{constructor(i){i=i||{},super(void 0,fb("pubsub",{xform:i.xform})),this.topicfn=i.topic,this.topics=new Pd(void 0,{equiv:i.equiv})}subscribe(){return Zb("use subscribeTopic() instead")}transform(){return Zb("use subscribeTopic() instead")}subscribeTopic(i,r,s){let t=this.topics.get(i);return!t&&this.topics.set(i,t=ae()),t.subscribe(r,s)}unsubscribeTopic(i,r){const s=this.topics.get(i);return!!s&&s.unsubscribe(r)}unsubscribe(i){if(!i){for(let i of this.topics.values())i.unsubscribe();return this.topics.clear(),super.unsubscribe()}return Zb()}done(){for(let i of this.topics.values())i.done();super.done()}dispatch(i){E.debug(this.id,"dispatch",i);const r=this.topicfn(i);if(void 0!==r){const t=this.topics.get(r);if(t)try{t.next&&t.next(i)}catch(s){t.error?t.error(s):this.error(s)}}}}function ij(e,t){return new Hd(e,t)}class Hd extends Ea{constructor(e,t){const[s,r]=P(e)?[e,t]:[void 0,e];super(void 0,fb("stream",r)),this.src=s,this._inited=!1}subscribe(...e){const t=super.subscribe.apply(this,e);return this._inited||(this._cancel=this.src&&this.src(this)||(()=>void 0),this._inited=!0),t}unsubscribe(e){const t=super.unsubscribe(e);return!t||e&&(this.subs&&this.subs.length||0===this.closeOut)||this.cancel(),t}done(){this.cancel(),super.done(),delete this.src,delete this._cancel}error(e){super.error(e),this.cancel()}cancel(){if(this._cancel){E.debug(this.id,"cancel");const e=this._cancel;delete this._cancel,e()}}}const kj=e=>new lj(e);class lj extends Ea{constructor(e){e=e||{},super(void 0,fb("streammerge",e)),this.sources=new Map,e.src&&this.addAll(e.src)}add(e){this.ensureState(),this.sources.set(e,e.subscribe({next:e=>{e instanceof Ea?this.add(e):this.next(e)},done:()=>this.markDone(e),__owner:this},{id:`in-${e.id}`}))}addAll(e){for(let r of e)this.add(r)}remove(e){const r=this.sources.get(e);return!!r&&(this.sources.delete(e),r.unsubscribe(),!0)}removeID(e){for(let r of this.sources)if(r[0].id===e)return this.remove(r[0]);return!1}removeAll(e){let r=!0;for(let s of e)r=this.remove(s)&&r;return r}removeAllIDs(e){let r=!0;for(let s of e)r=this.removeID(s)&&r;return r}unsubscribe(e){if(!e){for(let e of this.sources.values())e.unsubscribe();this.state=2,this.sources.clear()}return super.unsubscribe(e)}markDone(e){this.remove(e),(1===this.closeIn||2===this.closeIn&&!this.sources.size)&&this.done()}}const mj=(e,t,$=!1,r)=>new Hd(r=>{let m=e=>r.next(e);return e.addEventListener(t,m,$),()=>e.removeEventListener(t,m,$)},fb(`event-${t}`,r));const Cd=(e,t,$=!1,r)=>mj(e,t,$,r);var Ib={};const zc=t=>Y(t)?t:ec(t)?t.length>0?t.split("."):[]:null!=t?[t]:[];const yc=r=>xc(r);function xc(r){const t=zc(r);let[e,l,$,n]=t;switch(t.length){case 0:return r=>r;case 1:return r=>null!=r?r[e]:void 0;case 2:return r=>null!=r&&null!=(r=r[e])?r[l]:void 0;case 3:return r=>null!=r&&null!=(r=r[e])&&null!=(r=r[l])?r[$]:void 0;case 4:return r=>null!=r&&null!=(r=r[e])&&null!=(r=r[l])&&null!=(r=r[$])?r[n]:void 0;default:return r=>{const e=t.length-1;let l=r;for(let $=0;null!=l&&$<=e;$++)l=l[t[$]];return l};}}const kd=$=>uc($);function uc($){const r=zc($);let[e,t,c,o]=r;switch(r.length){case 0:return($,r)=>r;case 1:return($,r)=>($=y($),$[e]=r,$);case 2:return($,r)=>{let c;return($=y($))[e]=c=y($[e]),c[t]=r,$};case 3:return($,r)=>{let o,T;return($=y($))[e]=o=y($[e]),o[t]=T=y(o[t]),T[c]=r,$};case 4:return($,r)=>{let T,a,j;return($=y($))[e]=T=y($[e]),T[t]=a=y(T[t]),a[c]=j=y(a[c]),j[o]=r,$};default:let $;for(let e=r.length;--e>=0;)$=vj(r[e],$);return $;}}const y=$=>Y($)?$.slice():Object.assign({},$),vj=($,r)=>(e,t)=>(e=y(e),e[$]=r?r(e[$],t):t,e);const wj=($,e,t,...r)=>xj($,e,t,...r);function xj($,e,t,...r){return uc(e)($,t.apply(null,(r.unshift(xc(e)($)),r)))}const va=($,t)=>xc(t)($);const bd=($,t,e)=>uc(t)($,e);let Aj=0;const ad=()=>Aj++;class _c{constructor(t,i,s,e=!0,r=B){this.parent=t,this.id=`view-${ad()}`,this.tx=s||(t=>t),this.path=zc(i),this.isDirty=!0,this.isLazy=e;const h=yc(this.path),$=this.parent.deref();this.unprocessed=$?h($):void 0,e||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),t.addWatch(this.id,(t,i,s)=>{const $=i?h(i):i,a=s?h(s):s;r(a,$)||(e?this.unprocessed=a:this.state=this.tx(a),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}}var Dj=Ib&&Ib.__decorate||function(e,t,r,i){var $,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)($=e[o])&&(s=(a<3?$(s):a>3?$(t,r,s):$(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s};let ta=class{constructor(e,t){t&&!t(e)&&re("initial state value did not validate"),this._value=e,this.valid=t}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){const t=this._value;return this.valid&&!this.valid(e)?t:(this._value=e,this.notifyWatches(t,e),e)}resetIn(e,t){return this.reset(bd(this._value,e,t))}swap(e,...t){return this.reset(e.apply(null,[this._value,...t]))}swapIn(e,t,...r){return this.reset(wj(this._value,e,t,...r))}addWatch(e,t){return!1}removeWatch(e){return!1}notifyWatches(e,t){}addView(e,t,r=!0){return new _c(this,e,t,r)}release(){return delete this._watches,delete this._value,!0}};ta=Dj([bi],ta),Ib.Atom=ta,Ib.Atom=ta;class Fj{constructor(...e){let t,r,a,i,s,$;switch(e.length){case 1:$=(s=e[0]).id,t=s.parent,i=s.validate,s.path?Y(s.path)&&P(s.path[0])?[r,a]=s.path:(r=yc(s.path),a=kd(s.path)):_b("missing path config");break;case 2:t=e[0],r=yc(e[1]),a=kd(e[1]);break;case 3:[t,r,a]=e;break;default:$b(e.length);}this.parent=t,this.id=$||`cursor-${ad()}`,this.selfUpdate=!1,r&&a||_b(),this.local=new ta(r(t.deref()),i),this.local.addWatch(this.id,(e,r,i)=>{r!==i&&(this.selfUpdate=!0,t.swap(e=>a(e,i)),this.selfUpdate=!1)}),t.addWatch(this.id,(e,t,a)=>{if(!this.selfUpdate){const e=r(a);e!==r(t)&&this.local.reset(e)}})}get value(){return this.deref()}set value(e){this.reset(e)}deref(){return this.local.deref()}release(){return this.local.release(),this.parent.removeWatch(this.id),delete this.local,delete this.parent,!0}reset(e){return this.local.reset(e)}resetIn(e,t){return this.local.resetIn(e,t)}swap(e,...t){return this.local.swap(e,...t)}swapIn(e,t,...r){return this.local.swapIn(e,t,...r)}addWatch(e,t){return this.local.addWatch(e,t)}removeWatch(e){return this.local.removeWatch(e)}notifyWatches(e,t){return this.local.notifyWatches(e,t)}addView(e,t,r=!0){return new _c(this,e,t,r)}}const sg=o=>({next(e){o?console.log(o,e):console.log(e)},done(){o?console.log(o,"done"):console.log("done")},error(e){o?console.log(o,"error",e):console.log("error",e)}});function rg(r,e){var $rOgi$$interop$default=g(aa);var t=$rOgi$$interop$default.d(r);var $S2Gb$$interop$default=g(yb);if($S2Gb$$interop$default.d){var n=$S2Gb$$interop$default.d(r);var $HDiy$$interop$default=g(sa);e&&(n=$HDiy$$interop$default.d(n).call(n,function(e){var $hmbr$$interop$default=g(L);return $hmbr$$interop$default.d(r,e).enumerable})),t.push.apply(t,n)}return t}function ra(r){for(var e=1;e<arguments.length;e++){var t,n=null!=arguments[e]?arguments[e]:{};var $ges0$$interop$default=g(wa);var $vRRw$$interop$default=g(Hb);var $iEQ5$$interop$default=g(gb);if(e%2)$ges0$$interop$default.d(t=rg(Object(n),!0)).call(t,function(e){var $bLSz$$interop$default=g(Ia);$bLSz$$interop$default.d(r,e,n[e])});else if($vRRw$$interop$default.d)$iEQ5$$interop$default.d(r,$vRRw$$interop$default.d(n));else{var $;$ges0$$interop$default.d($=rg(Object(n))).call($,function(e){var $u76W$$interop$default=g(mb);var $hmbr$$interop$default=g(L);$u76W$$interop$default.d(r,e,$hmbr$$interop$default.d(n,e))})}}return r}var Yb={};var Kj={};Kj=Mf;Yb=Kj;var hg={};var Mj={};var Nj={},fg=function(e){return function(r,$,t,a){C($);var n=ca(r),i=Nb(n),o=ba(n.length),j=e?o-1:0,g=e?-1:1;if(t<2)for(;;){if(j in i){a=i[j],j+=g;break}if(j+=g,e?j<0:o<=j)throw TypeError("Reduce of empty array with no initial value")}for(;e?j>=0:o>j;j+=g)j in i&&(a=$(a,i[j],j,n));return a}};Nj={left:fg(!1),right:fg(!0)};var Pj=Nj.left,Qj=Qb("reduce"),Rj=ha("reduce",{1:0});f({target:"Array",proto:!0,forced:!Qj||!Rj},{reduce:function(r){return Pj(this,r,arguments.length,arguments.length>1?arguments[1]:void 0)}});Mj=M("Array").reduce;var Sj={},Tf=Array.prototype;Sj=function(r){var e=r.reduce;return r===Tf||r instanceof Array&&e===Tf.reduce?Mj:e};var Uj={};Uj=Sj;hg=Uj;var Sf={};var Wj={};var jb=x("JSON","stringify"),Yj=/[\uD800-\uDFFF]/g,Of=/^[\uD800-\uDBFF]$/,Nf=/^[\uDC00-\uDFFF]$/,_j=function($,r,a){var t=a.charAt(r-1),i=a.charAt(r+1);return Of.test($)&&!Nf.test(i)||Nf.test($)&&!Of.test(t)?"\\u"+$.charCodeAt(0).toString(16):$},ak=j(function(){return"\"\\udf06\\ud834\""!==jb("\uDF06\uD834")||"\"\\udead\""!==jb("\uDEAD")});jb&&f({target:"JSON",stat:!0,forced:ak},{stringify:function($,r,a){var t=jb.apply(null,arguments);return"string"==typeof t?t.replace(Yj,_j):t}});h.JSON||(h.JSON={stringify:JSON.stringify}),Wj=function(r,$,e){return h.JSON.stringify.apply(null,arguments)};var bk={};bk=Wj;Sf=bk;var S={};var dk={};var ek={};var Cg=[].slice,gk=/MSIE .\./.test(ua),Ef=function($){return function(l,r){var e=arguments.length>2,a=e?Cg.call(arguments,2):void 0;return $(e?function(){("function"==typeof l?l:Function(l)).apply(this,a)}:l,r)}};f({global:!0,bind:!0,forced:gk},{setTimeout:Ef(b.setTimeout),setInterval:Ef(b.setInterval)});ek=h.setTimeout;dk=ek;var Jn,rf={};var kk,lk,mk=false;function nk(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function ok(){if(mk)return;mk=true;kk={};kk=function(r,e,t,a){e=e||"&",t=t||"=";var n={};if("string"!=typeof r||0===r.length)return n;var o=/\+/g;r=r.split(e);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var $=0;$<p;++$){var y,v,c,i,u=r[$].replace(o,"%20"),f=u.indexOf(t);f>=0?(y=u.substr(0,f),v=u.substr(f+1)):(y=u,v=""),c=decodeURIComponent(y),i=decodeURIComponent(v),nk(n,c)?lk(n[c])?n[c].push(i):n[c]=[n[c],i]:n[c]=i}return n};lk=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)}}var pk,Pa,rk,sk,tk=false;function af(r,n){if(r.map)return r.map(n);for(var e=[],t=0;t<r.length;t++)e.push(n(r[t],t));return e}function vk(){if(tk)return;tk=true;pk={};Pa=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return"";}};pk=function(r,n,e,t){return n=n||"&",e=e||"=",null===r&&(r=void 0),"object"==typeof r?af(sk(r),function(t){var i=encodeURIComponent(Pa(t))+e;return rk(r[t])?af(r[t],function(r){return i+encodeURIComponent(Pa(r))}).join(n):i+encodeURIComponent(Pa(r[t]))}).join(n):t?encodeURIComponent(Pa(t))+e+encodeURIComponent(Pa(r)):""};rk=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};sk=Object.keys||function(r){var n=[];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.push(e);return n}}var wk,xk,Ka={},zk=(wk=(ok(),kk),Ka.parse=wk);Ka.decode=zk;var Ak=(xk=(vk(),pk),Ka.stringify=xk);Ka.encode=Ak;var vb=function(r){var $HDiy$$interop$default=g(sa);var e,t,$,i=[],l=[],a=[],c=r.split(/(?=\?)|(?=#)/g),s=c[0],n=$HDiy$$interop$default.d(e=s.split("/")).call(e,function(r){return""!==r});var $qowv$$interop$default=g(Sb);/http/i.test(r)?(l=$qowv$$interop$default.d(t=n[1].split(".")).call(t,-2),i=$qowv$$interop$default.d($=n[1].split(".")).call($,0,-2),a=$qowv$$interop$default.d(n).call(n,2)):a=n;var p=$HDiy$$interop$default.d(c).call(c,function(r){return"?"===$qowv$$interop$default.d(r).call(r,0,1)})[0]||"",o=$HDiy$$interop$default.d(c).call(c,function(r){return"#"===$qowv$$interop$default.d(r).call(r,0,1)})[0]||"";var $rkwc$$interop$default=g(Ka);return{URL:r,URL_subdomain:i,URL_domain:l,URL_path:a,URL_query:$rkwc$$interop$default.d.parse($qowv$$interop$default.d(p).call(p,1)),URL_hash:$qowv$$interop$default.d(o).call(o,1)}};rf.parse_URL=vb;var Gn,Se={};var ue=function($){return Y($)?"ARRAY":P($)&&0===$.length?"THUNK":P($)&&$.length>0?"FUNCTION":Be($)?"PROMISE":ec($)?"STRING":hi($)?"BOOLEAN":li($)?"NULL":He($)?"OBJECT":"type_str NOT FOUND"};Se.stringify_type=ue;var Kn,qe={};var Hk=function(r,a){return a.subscribeTopic?a.subscribeTopic("_TRACE_STREAM",{next:function(a){return console.log(r,a)},error:console.warn}):a.subscribe(sg(r))};qe.traceStream=Hk;var eb={};function ke(e,r){var $rOgi$$interop$default=g(aa);var t=$rOgi$$interop$default.d(e);var $S2Gb$$interop$default=g(yb);if($S2Gb$$interop$default.d){var n=$S2Gb$$interop$default.d(e);var $HDiy$$interop$default=g(sa);r&&(n=$HDiy$$interop$default.d(n).call(n,function(r){var $hmbr$$interop$default=g(L);return $hmbr$$interop$default.d(e,r).enumerable})),t.push.apply(t,n)}return t}function ie(e){for(var r=1;r<arguments.length;r++){var t,n=null!=arguments[r]?arguments[r]:{};var $ges0$$interop$default=g(wa);var $vRRw$$interop$default=g(Hb);var $iEQ5$$interop$default=g(gb);if(r%2)$ges0$$interop$default.d(t=ke(Object(n),!0)).call(t,function(r){var $bLSz$$interop$default=g(Ia);$bLSz$$interop$default.d(e,r,n[r])});else if($vRRw$$interop$default.d)$iEQ5$$interop$default.d(e,$vRRw$$interop$default.d(n));else{var o;$ges0$$interop$default.d(o=ke(Object(n))).call(o,function(r){var $u76W$$interop$default=g(mb);var $hmbr$$interop$default=g(L);$u76W$$interop$default.d(e,r,$hmbr$$interop$default.d(n,r))})}}return e}var Lk={};var Mk={};Mk=M("Array").keys;var Nk={};Nk=Mk;var Ok={};var be=Array.prototype,Qk={DOMTokenList:!0,NodeList:!0};Ok=function(r){var $=r.keys;return r===be||r instanceof Array&&$===be.keys||Qk.hasOwnProperty(ga(r))?Nk:$};Lk=Ok;var Rk={};var Sk={};Sk=ve;Rk=Sk;var $d=function(e,r){var $PEjP$$interop$default=g(Sf);return $PEjP$$interop$default.d(e,function(e,r){var t;var $qowv$$interop$default=g(Sb);return"function"==typeof r?$qowv$$interop$default.d(t=r.toString().replace(/\r?\n|\r/g,"").replace(/\s\s+/g," ")).call(t,0,12)+"...":r},r)};eb.stringify_w_functions=$d;var pc=function(e,r){var $bKqR$$interop$default=g(hg);var $za78$$interop$default=g(Rk);var $kKN9$$interop$default=g(Lk);var t,n,o,a=$bKqR$$interop$default.d(t=$za78$$interop$default.d($kKN9$$interop$default.d(n=Array(19)).call(n))).call(t,function(e,r){var $bLSz$$interop$default=g(Ia);return ie({},e,$bLSz$$interop$default.d({},r,"".concat(r+1,"th")))},{}),c=ie({},a,{0:"1st",1:"2nd",2:"3rd"}),$=c[r];var $W5Mo$$interop$default=g(q);return $W5Mo$$interop$default.d(o="\uD83D\uDD0D it was the ".concat($," Command in a Task or ")).call(o,c[r-1]," in a Subtask.")};eb.key_index_err=pc;var nc=function(e,r,t,n,o){var $UkCK$$interop$default=g(Wb);var a,c,$,i,s,p=r.source$,l=$UkCK$$interop$default.d(r).length;var $W5Mo$$interop$default=g(q);var $rOgi$$interop$default=g(aa);return $W5Mo$$interop$default.d(a=$W5Mo$$interop$default.d(c=$W5Mo$$interop$default.d($=$W5Mo$$interop$default.d(i="\n\n  \uD83D\uDD25 ".concat(e," ERROR:\n  \n  \uD83D\uDD25 Unrecognized Command Key(s)\n  \n  FAULTY sub$: \"")).call(i,n,"\" \n  ")).call($,$rOgi$$interop$default.d(t)[0][0]?$W5Mo$$interop$default.d(s="\n  ".concat(o?pc(r,o):"","\n\n  The problematic entry/entries: \n\n  \uD83E\uDD14 ")).call(s,!o&&l>3&&!p?"".concat($UkCK$$interop$default.d(t)[0][0],": <Stream>"):$d(t,2)):""," \uD83E\uDD14\n\n  ACCEPTABLE ENTRY KEYS ")).call(c,o?"WITHIN A COMMAND":"DURING REGISTRATION",": \n\n  'sub$' \n    - optional \n    - topic key for for registering & targeting Commands \n    - signatures:\n      - \"X\"    : String: Topic key\n      - XX$    : Stream: for dispatching args to custom stream\n\n  'args' \n    - required \n    - payload or accumulator reshaping payload function (Promises OK)\n    - signatures:\n      - PRI    : primitive: static payload -> is NOT accumulated\n      - {?}    : object: static payload -> is accumulated \n      - (+) => : function (non-nullary): dispatch payload from \n                values accumulated from prior Command payloads\n      - (0) => : thunk (nullary): dispatch to custom stream\n      - {P}    : Promise or (#) => {P} Promise returning function\n      \n  'reso' \n    - required for Promise handling \n    - converts resolved Promise payloads to Command args\n    - signature:\n      - ({A: accumulator}, {P: resolved Promise}) =>  \n\n  'erro' \n    - recommended for Promise rejections \n    - handles rejected Promise payloads\n    - signature:\n      - ({A: accumulator}, {E: error object}) =>  \n  ")).call(a,o?"":"\n  'handler' \n    - required \n    - function that is called on payload's arrival\n    - signature: \n      - (#) => : function instruments actual side-effects/work \n  \n  'source$' \n    - advanced/optional \n    - source stream (see http://thi.ng/rstream)","\n\n  Hope that helps!\n  ")};eb.unknown_key_ERR=nc;var Z={};var Xk=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}};Z.getScrollPosition=Xk;function xa(t,e){var n=t.getBoundingClientRect(),o=n.top,r=n.bottom,a=n.left,i=n.right,$=n.width,l=n.height,s=e?e.getBoundingClientRect():null;return{top:o-(s?s.top:0),bottom:r,left:a-(s?s.left:0),right:i,width:$,height:l}}Z.getRect=xa;var Zk=function(t){var e=t.value._root;return document.getElementById(e).insertAdjacentHTML("beforebegin","<div \n    id=\"_frame\"\n    style=\"width: 100vw;\n      height: 100vh;\n      position: fixed;\n      pointer-events: none\"\n  >\n  </div>"),document.getElementById("_frame")},$k=!1,_k=function(t,e,n){var o,r,a;console.log({state:e});var i=$k?document.getElementById("_frame"):($k=!0,Zk(e)),$=["_flip_map",n];if(!va(e.deref(),$))return e.resetIn($,xa(t,i));var l=va(e.deref(),$),s=xa(t,i),c=l.left-s.left,p=l.top-s.top,P=l.width/s.width,d=l.height/s.height;t.style.transition="";var $W5Mo$$interop$default=g(q);var w=$W5Mo$$interop$default.d(o=$W5Mo$$interop$default.d(r=$W5Mo$$interop$default.d(a="translate(".concat(c,"px, ")).call(a,p,"px) scale(")).call(r,P,", ")).call(o,d,")");t.style.transform=w,e.resetIn($,s),requestAnimationFrame(function(){t.style.transition="all .6s cubic-bezier(.65,.22,.38,.77)",t.style.transform="none"})};Z.FLIP_all=_k;var Id=function(t){return{rects:["_FLIP","rects",t],elems:["_FLIP","elems",t],clicks:["_FLIP","clicks",t]}},Gd=function(t,e,n){console.log(/id\/(\d+)/g.exec(e)[1],"WAS CLICKED");var o=Id(e),r=o.rects,a=o.clicks,i=xa(n.target);t.resetIn(r,i),t.resetIn(a,!0)};Z.FLIP_first=Gd;var qd=function(t,e){};Z.FLIP_last=qd;var pd=function(t,e,n){var o,r,a,i=/id\/(\d+)/g.exec(n)[1],$=Id(n),l=$.rects,s=$.clicks,c=va(e.deref(),l)||null;if(c){va(e.deref(),s)||null?console.log(i,"FLIP'ed on click! \uD83D\uDC46"):console.log(i,"FLIP'ed on navigated"),t.scrollIntoView();var p=xa(t),P=c.left-p.left,d=c.top-p.top,w=c.width/p.width,m=c.height/p.height;t.style.transformOrigin="0 0",t.style.transition="";var $W5Mo$$interop$default=g(q);var f=$W5Mo$$interop$default.d(o=$W5Mo$$interop$default.d(r=$W5Mo$$interop$default.d(a="translate(".concat(P,"px, ")).call(a,d,"px) scale(")).call(r,w,", ")).call(o,m,")");t.style.transform=f,requestAnimationFrame(function(){t.style.transition="all .4s cubic-bezier(.54,-0.29,.17,1.11)",t.style.transform="none"}),e.resetIn(l,p),e.resetIn(s,null)}};Z.FLIP_last_invert_play=pd;Va(S,rf),Va(S,Se),Va(S,qe),Va(S,eb),Va(S,Z);var el=function(e){var $stSg$$interop$default=g(Yb);return new $stSg$$interop$default.d(function(r){var $I6Dc$$interop$default=g(dk);return $I6Dc$$interop$default.d(r,e)})};S.msTaskDelay=el;var Xa="Spool Interupted",gd=function(r,e){var t;var $W5Mo$$interop$default=g(q);var $PEjP$$interop$default=g(Sf);return console.warn($W5Mo$$interop$default.d(t="\n  \uD83D\uDD25 No sub$ included for a Command with a primitive for 'args'. \n  \uD83D\uDD25 Ergo, nothing was done with this Command: \n  \n  ".concat($PEjP$$interop$default.d(r),"\n  \n  ")).call(t,pc(r,e),"\n  \n  Hope that helps!\n  "))},dd=function(r){var $bKqR$$interop$default=g(hg);var $stSg$$interop$default=g(Yb);return $bKqR$$interop$default.d(r).call(r,function(){var $CJyf$$interop$default=g(mc);var $jopx$$interop$default=g(tc);var r=$CJyf$$interop$default.d($jopx$$interop$default.d.mark(function r(e,t,n){var $,o,a,c,s,i,Q,p,u,b,l,m;return $jopx$$interop$default.d.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e;case 2:if($=r.sent,!P(t)){r.next=14;break}return r.prev=4,(o=t($)).unshift({args:$}),r.abrupt("return",dd(o));case 10:return r.prev=10,r.t0=r.catch(4),console.warn(Xa,r.t0),r.abrupt("return");case 14:var $nafj$$interop$default=g(We);var $rOgi$$interop$default=g(aa);if(a=t.sub$,c=t.args,s=t.reso,i=t.erro,Q=$nafj$$interop$default.d(t,["sub$","args","reso","erro"]),!($rOgi$$interop$default.d(Q).length>0)){r.next=17;break}throw new Error(nc(Xa,t,Q,a,n));case 17:var $stSg$$interop$default=g(Yb);if(p=ue(c),u=c,"PROMISE"!==p&&s&&(u=$stSg$$interop$default.d.resolve(c)),c===Object(c)||a){r.next=23;break}return gd(t,n),r.abrupt("return",$);case 23:if("PROMISE"!==p){r.next=27;break}return r.next=26,c.catch(function(r){return r});case 26:u=r.sent;case 27:if("THUNK"!==p){r.next=32;break}return u=c(),console.log("dispatching to custom stream: ".concat(a.id)),a.next(u),r.abrupt("return",$);case 32:if("FUNCTION"!==p){r.next=42;break}if(b=c($),!Be(b)){r.next=40;break}return r.next=37,b.catch(function(r){return r});case 37:r.t1=r.sent,r.next=41;break;case 40:r.t1=b;case 41:u=r.t1;case 42:if("OBJECT"!==p){r.next=47;break}if(a){r.next=45;break}return r.abrupt("return",ra({},$,{},c));case 45:return ja.next(t),r.abrupt("return",ra({},$,{},c));case 47:if(!s){r.next=64;break}if(!(i&u instanceof Error)){r.next=54;break}if(!(l=i($,u)).sub$){r.next=52;break}return r.abrupt("return",ja.next(l));case 52:console.warn(Xa,"[ Promise rejected ]:",u),u=l;case 54:if(u instanceof Error){r.next=63;break}if(!(m=s($,u)).sub$){r.next=60;break}ja.next(m),r.next=62;break;case 60:if(a){r.next=62;break}return r.abrupt("return",ra({},$,{},m));case 62:u=m;case 63:console.warn("no 'erro' (Error handler) set for ".concat(t));case 64:if(s||a){r.next=66;break}return r.abrupt("return",ra({},$,{},u));case 66:if(!(u instanceof Error)){r.next=69;break}return console.warn(Xa,u),r.abrupt("return",$);case 69:if(u===Object(u)){r.next=75;break}if(a){r.next=73;break}return gd(t,n),r.abrupt("return",$);case 73:return ja.next({sub$:a,args:u}),r.abrupt("return",$);case 75:return ja.next({sub$:a,args:u}),r.abrupt("return",ra({},$,{},u));case 77:case"end":return r.stop();}},r,null,[[4,10]])}));return function(e,t,n){return r.apply(this,arguments)}}(),$stSg$$interop$default.d.resolve({}))};var En=ij().subscribe(sg("log$ -> "),{id:"log$"});var Fb=Jd({topic:function($){return!!$.sub$},id:"run$_stream",equiv:function($,r){return $===r||"_TRACE_STREAM"===r}});var kg=Jd({topic:function($){return $.sub$},id:"out$_stream",equiv:function($,r){return $===r||"_TRACE_STREAM"===r}});var ja=Fb.subscribeTopic(!0,{next:function($){return kg.next($)},error:console.warn},{id:"command$_stream"});var Dn=Fb.subscribeTopic(!1,{next:dd,error:console.warn},{id:"task$_stream"});var nl=Cd(window,"popstate");var ol=Cd(window,"DOMContentLoaded");var zf=kj({src:[nl,ol]}).transform(T(function($){return{URL:$.target.location.href,DOM:$.currentTarget}}));function vf(r,e){var $rOgi$$interop$default=g(aa);var t=$rOgi$$interop$default.d(r);var $S2Gb$$interop$default=g(yb);if($S2Gb$$interop$default.d){var $=$S2Gb$$interop$default.d(r);var $HDiy$$interop$default=g(sa);e&&($=$HDiy$$interop$default.d($).call($,function(e){var $hmbr$$interop$default=g(L);return $hmbr$$interop$default.d(r,e).enumerable})),t.push.apply(t,$)}return t}function of(r){for(var e=1;e<arguments.length;e++){var t,$=null!=arguments[e]?arguments[e]:{};var $ges0$$interop$default=g(wa);var $vRRw$$interop$default=g(Hb);var $iEQ5$$interop$default=g(gb);if(e%2)$ges0$$interop$default.d(t=vf(Object($),!0)).call(t,function(e){var $bLSz$$interop$default=g(Ia);$bLSz$$interop$default.d(r,e,$[e])});else if($vRRw$$interop$default.d)$iEQ5$$interop$default.d(r,$vRRw$$interop$default.d($));else{var o;$ges0$$interop$default.d(o=vf(Object($))).call(o,function(e){var $u76W$$interop$default=g(mb);var $hmbr$$interop$default=g(L);$u76W$$interop$default.d(r,e,$hmbr$$interop$default.d($,e))})}}return r}var sl=function(r){var e=tl(r);return function(r){var t=r.URL,$=r.DOM;return[of({},Nl,{args:{URL:t,DOM:$}}),function(r){var t=r.URL;return e({URL:t})},Il,of({},we,{args:function(r){return!1}}),Ml,Ol]}};var tl=function(r){return function(e){var t=e.URL;return[we,{args:r(t),reso:function(r,e){return{page:e.page,data:e.data}},erro:function(r,e){return console.warn(e)}},{args:vb(t)},Kl]}};var ul="registerCMD",vl=function(r){var e,$=r.sub$,t=r.args,o=r.source$,s=P(t),u={sub$:$,args:t};return o.subscribe((e=ja,s?T(function(r){return e.next(function(r){return{sub$:$,args:t(r)}}(r))}):T(function(){return e.next(u)})))},$=function(r){var $nafj$$interop$default=g(We);var e=r.sub$,$=r.args,t=r.erro,o=r.reso,s=r.source$,u=r.handler,i=$nafj$$interop$default.d(r,["sub$","args","erro","reso","source$","handler"]);var $rOgi$$interop$default=g(aa);if($rOgi$$interop$default.d(i).length>0)throw new Error(nc(ul,r,i,e,void 0));return s&&vl(r),kg.subscribeTopic(e,{next:u,error:console.warn},T(function(r){return r.args})),o?{sub$:e,args:$,reso:o,erro:t}:{sub$:e,args:$}};var xl=function(r){console.log("DOM Router Registered");var e=sl(r);return $({source$:zf,sub$:"_URL_NAVIGATED$_DOM",args:function(r){return r},handler:function(r){var $=r.URL,t=r.DOM;return Fb.next(e({URL:$,DOM:t}))}})};var Fa=new ta({_route_path:[],_route_loading:!1,_page:"",_root:""});var zl=new Fj(Fa,"_route_loading");var Al=Fa.addView("_route_path");var Cn=Fa.addView("_page");var Wa=function($,t){return Fa.swap(function(e){return bd(e,$,t)})};var Dl=function($){return Wa("_route_path",$)};var El=function($){return zl.reset($)};var Fl=function($){return Wa("_page",$)};var Gl=function($){return Wa("_root",$)};var Hl=function(r){r.preventDefault();var t=r.target.href;if(window.location.href!==t)return zf.next({target:{location:{href:t}},currentTarget:r.currentTarget}),r};var Il=$({sub$:"_SET_PAGE_STATE",args:function(r){return{URL_path:r.URL_path,page:r.page,data:r.data}},handler:function(r){var t=r.URL_path,e=r.page,$=r.data,_=0===t.length?["home"]:t;Wa(_,$),Fl(e)}});var we=$({sub$:"_SET_ROUTER_LOADING_STATE",args:!0,handler:function(r){return El(r)}});var Kl=$({sub$:"_SET_ROUTER_PATH",args:function(r){return{URL_path:r.URL_path}},handler:function(r){var t=r.URL_path;return Dl(t)}});var Ll=function(r){var t;var $ges0$$interop$default=g(wa);$ges0$$interop$default.d(t=document.body.querySelectorAll("a[visited]")).call(t,function(r){r.href===window.location.href?r.setAttribute("active",""):r.removeAttribute("active")}),r.setAttribute&&(r.setAttribute("visited",""),r.setAttribute("active",""))},Ml=$({sub$:"_SET_LINK_ATTRS_DOM",args:function(r){return{DOM:r.DOM}},handler:function(r){var t=r.DOM;return Ll(t)}});var Nl=$({sub$:"_HREF_PUSHSTATE_DOM",args:function(r){return{URL:r.URL,DOM:r.DOM}},handler:function(r){var t=r.URL;return r.DOM.document?null:history.pushState(vb(t),null,t)}});var Ol=$({sub$:"_NOTIFY_PRERENDER_DOM",args:!0,handler:function(){return document.dispatchEvent(new Event("rendered"))}});let Gc,Fc;let Rl=[],Sl=[];const Tl=$=>Gc&&Gc.length>=$?Gc:Gc=new Int32Array($),Ul=$=>Fc&&Fc.length>=$?Fc:Fc=new Int32Array($),Sd=($,e,a,r,t)=>{const c=e.length,l=$.linear;if($.distance=c,0!==t){for(let $=0,a=0;$<c;$++,a+=3)l[a]=r,l[a+1]=$,l[a+2]=e[$];if(3===t){const r=$[a];for(let $=0;$<c;$++)r[$]=e[$]}}return $},Wl=($,e,a=3,r=B)=>{const t={distance:0,adds:{},dels:{},const:{},linear:[]};if($===e||null==$&&null==e)return t;if(null==$||0===$.length)return Sd(t,e,"adds",1,a);if(null==e||0===e.length)return Sd(t,$,"dels",-1,a);const c=$.length>=e.length;let l,n,h,s;c?(l=e,n=$):(l=$,n=e),h=l.length,s=n.length;const d=h+1,o=s-h,i=o+d,y=h+s+3,A=Ul(y).fill(-1,0,y),R=Tl(y).fill(-1,0,y),U=Rl,f=Sl;U.length=0,f.length=0;const v=($,e,a)=>{const t=$+d;let c,o;e>a?(c=A[t-1],o=e):(c=A[t+1],o=a);let i=o-$;for(;i<h&&o<s&&r(l[i],n[o]);)i++,o++;return A[t]=f.length/3,f.push(i,o,c),o};let u,P,g=-1;do{for(P=(u=-++g)+d;u<o;u++,P++)R[P]=v(u,R[P-1]+1,R[P+1]);for(P=(u=o+g)+d;u>o;u--,P--)R[P]=v(u,R[P-1]+1,R[P+1]);R[i]=v(o,R[i-1]+1,R[i+1])}while(R[i]!==s);if(t.distance=o+2*g,0!==a){for(g=3*A[i];g>=0;)U.push(g),g=3*f[g+2];3===a?Xl(U,f,t,l,n,c):Yl(U,f,t,l,n,c,1===a)}return t};const Xl=($,e,a,r,t,c)=>{const l=a.linear,n=a.const;let h,s,d,o,i=$.length,y=0,A=0;for(c?(h=a.dels,s=a.adds,d=-1,o=1):(h=a.adds,s=a.dels,d=1,o=-1);--i>=0;){const a=$[i],c=e[a],R=e[a+1],U=R-c;for(;y<c||A<R;){const $=A-y;U>$?(l.push(d,A,h[A]=t[A]),A++):U<$?(l.push(o,y,s[y]=r[y]),y++):(l.push(0,y,n[y]=r[y]),y++,A++)}}},Yl=($,e,a,r,t,c,l)=>{const n=a.linear,h=c?-1:1,s=c?1:-1;let d=$.length,o=0,i=0;for(;--d>=0;){const a=$[d],c=e[a],y=e[a+1],A=y-c;for(;o<c||i<y;){const $=i-o;A>$?(n.push(h,i,t[i]),i++):A<$?(n.push(s,o,r[o]),o++):(l&&n.push(0,o,r[o]),o++,i++)}}};const Zl=(t,e,$=3,d=B)=>t===e?{distance:0}:0===$?$l(t,e,d):_l(t,e,d);const $l=(t,e,$)=>{t||(t={}),e||(e={});let d=0;for(let i in t){const r=e[i];(void 0===r||!$(t[i],r))&&d++}for(let i in e)!(i in t)&&d++;return{distance:d}},_l=(t,e,$)=>{t||(t={}),e||(e={});let d=0;const i=[],r=[],f=[];for(let s in t){const i=e[s];void 0===i?(r.push(s),d++):$(t[s],i)||(f.push(s,i),d++)}for(let s in e)s in t||(i.push(s),d++);return{distance:d,adds:i,dels:r,edits:f}};const lb=Array.isArray,bm=Math.max,rd=Object.getPrototypeOf({}),md=(()=>{const e=new Array(2048);for(let t=2,r=e.length;t<r;t++)e[t]=t-2;return e})(),em=e=>{if(e<=md.length)return md.slice(0,e);const t=new Array(e);for(;--e>=2;)t[e]=e-2;return t},$c=(e,t,r,$,i,v=0)=>{const o=i[1];if(o.__skip)return;if(!1===o.__diff)return ya($),void t.replaceChild(e,r,v,i);const n=$[1];if(n&&n.__skip)return void t.replaceChild(e,r,v,i,!1);let f=o.__impl;if(f&&f!==t)return f.diffTree(e,f,r,$,i,v);const s=Wl($,i,1,pa);if(0===s.distance)return;const a=s.linear,O=t.getChild(r,v);let l,I,p,Z;if(0!==a[0]||$[1].key!==o.key)return ya($),void t.replaceChild(e,r,v,i);if((Z=$.__release)&&Z!==i.__release&&ya($),0!==a[3]&&(km(t,O,$[1],i[1]),2===s.distance))return;const d=a.length,u=$.length-1,c=mm(a),x=em(u+1);for(l=2,I=6;I<d;l++,I+=3)(p=a[I])&&(-1===p?gm(e,t,O,$,i,a,I,c,x,u):hm(e,t,O,a,I,c,x,u));(Z=i.__init)&&Z!=$.__init&&Z.apply(i,[O,...i.__args])};const gm=(e,t,r,$,i,v,o,n,f,s)=>{const a=v[o+2];if(lb(a)){let O=a[1].key;if(void 0!==O&&void 0!==n[O][2]){const v=n[O];O=v[0],$c(e,t,r,$[O],i[v[2]],f[O])}else{const e=v[o+1];ya(a),t.removeChild(r,f[e]),im(f,s,e)}}else"string"==typeof a&&t.setContent(r,"")},hm=(e,t,r,$,i,v,o,n)=>{const f=$[i+2];if("string"==typeof f)t.setContent(r,f);else if(lb(f)){const s=f[1].key;if(void 0===s||void 0===v[s][0]){const v=$[i+1];t.createTree(e,r,f,o[v]),jm(o,n,v)}}},im=(e,t,r)=>{for(;t>r;t--)e[t]=bm(e[t]-1,0)},jm=(e,t,r)=>{for(;t>=r;t--)e[t]++},km=(e,t,r,$)=>{const i=Zl(r,$,3,B);e.removeAttribs(t,i.dels,r);let v,o,n,f=l;for(v=(n=i.edits).length;(v-=2)>=0;)0===(o=n[v]).indexOf("on")&&e.removeAttribs(t,[o],r),"value"!==o?e.setAttrib(t,o,n[v+1],$):f=n[v+1];for(v=(n=i.adds).length;--v>=0;)"value"!==(o=n[v])?e.setAttrib(t,o,$[o],$):f=$[o];f!==l&&e.setAttrib(t,"value",f,$)};const ya=e=>{if(lb(e)){let t;if((t=e[1])&&!1===t.__release)return;for(e.__release&&(e.__release.apply(e.__this,e.__args),delete e.__release),t=e.length;--t>=2;)ya(e[t])}};const mm=e=>{let t,r,$;const i={};for(let v=e.length;(v-=3)>=0;)r=e[v+2],lb(r)&&void 0!==(t=r[1].key)&&(!($=i[t])&&(i[t]=$=[,,]),$[e[v]+1]=e[v+1]);return i},pa=(e,t)=>{let r;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=(r=Object.getPrototypeOf(e))&&r!==rd||null!=(r=Object.getPrototypeOf(t))&&r!==rd?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?je(e,t,pa):e instanceof Set&&t instanceof Set?he(e,t,pa):e instanceof Map&&t instanceof Map?fe(e,t,pa):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:!(!1===e.__diff||!1===t.__diff)&&ee(e,t,pa)))};const om="http://www.w3.org/2000/svg";const pm={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&apos;"};const qm=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;const Bn=new RegExp(`[${Object.keys(pm).join("")}]`,"g");const sm={button:1,option:1,text:1,textarea:1};const Rf=e=>e.split(" ").reduce((e,t)=>(e[t]=!0,e),{}),um=Rf("animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view");const Fn=Rf("area base br circle col command ellipse embed hr img input keygen line link meta param path polygon polyline rect source stop track use wbr ?xml");const wm=$=>{let r,e="";for(let l in $)r=$[l],P(r)&&(r=r($)),null!=r&&(e+=`${l}:${r};`);return e};const xm=(e,t)=>{if(null==e||!t||!t.length)return e;const r=Object.assign({},e);for(let n of t){const e=r[n];Oe(e,"deref")&&(r[n]=e.deref())}return r};const ab=Y,se=Ie,oe=(e,t)=>t.__init&&t.__init.apply(t.__this,[e,...t.__args]),cb=(e,t,r,$,n,o=!0)=>{if(ab($)){const s=$[0];if("function"==typeof s)return cb(e,t,r,s.apply(null,[e.ctx,...$.slice(1)]),n);const a=$[1];if(a.__impl)return a.__impl.createTree(e,r,$,n,o);const i=t.createElement(r,s,a,n);if($.length>2){const r=$.length;for(let n=2;n<r;n++)cb(e,t,i,$[n],void 0,o)}return o&&oe(i,$),i}if(se($)){const s=[];for(let a of $)s.push(cb(e,t,r,a,n,o));return s}return null==$?r:t.createTextElement(r,$)};const db=(e,t,r,$,n=0)=>{if(ab($)){const o=t.getChild(r,n);"function"==typeof $[0]&&db(e,t,r,$[0].apply(null,[e.ctx,...$.slice(1)]),n);const s=$[1];if(s.__impl)return s.__impl.hydrateTree(e,r,$,n);oe(o,$);for(let e in s)0===e.indexOf("on")&&t.setAttrib(o,e,s[e]);for(let r=$.length,n=2;n<r;n++)db(e,t,o,$[n],n-2)}else if(se($))for(let o of $)db(e,t,r,o,n),n++};const Dm=(e,t,r,$)=>{const n=um[t]?document.createElementNS(om,t):document.createElement(t);return r&&Jm(n,r),Ed(e,n,$)};const Em=(e,t,r)=>Ed(e,document.createTextNode(t),r);const Ed=(e,t,r)=>e?void 0===r?e.appendChild(t):e.insertBefore(t,e.children[r]):t;const Gm=(e,t)=>e.children[t];const Hm=(e,t,r,$,n,o=!0)=>(t.removeChild(r,$),t.createTree(e,r,n,$,o));const Im=(e,t)=>e.textContent=t;const Jm=(e,t)=>{for(let r in t)yd(e,r,t[r],t);return e};const yd=(e,t,r,$)=>{if(t.startsWith("__"))return;const n=0===t.indexOf("on");if(n||"function"!=typeof r||(r=r($)),void 0!==r&&!1!==r)switch(t){case"style":Nm(e,r);break;case"value":Lm(e,r);break;case"accesskey":e.accessKey=r;break;case"contenteditable":e.contentEditable=r;break;case"tabindex":e.tabIndex=r;break;case"align":case"autocapitalize":case"checked":case"dir":case"draggable":case"hidden":case"id":case"lang":case"namespaceURI":case"scrollTop":case"scrollLeft":case"title":e[t]=r;break;default:n?Om(e,t.substr(2),r):e.setAttribute(t,!0===r?"":r);}else null!=e[t]?e[t]=null:e.removeAttribute(t);return e};const Lm=(e,t)=>{let r;switch(e.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if(void 0!==(r=e.value)&&"string"==typeof t){const $=t.length-(r.length-(e.selectionStart||0));e.value=t,e.selectionStart=e.selectionEnd=$;break}default:e.value=t;}};const Mm=(e,t,r)=>{for(let $=t.length;--$>=0;){const n=t[$];0===n.indexOf("on")?Pm(e,n.substr(2),r[n]):e.hasAttribute(n)?e.removeAttribute(n):e[n]=null}};const Nm=(e,t)=>(e.setAttribute("style",wm(t)),e);const Om=(e,t,r)=>ab(r)?e.addEventListener(t,...r):e.addEventListener(t,r);const Pm=(e,t,r)=>ab(r)?e.removeEventListener(t,...r):e.removeEventListener(t,r);const Qm=(e,t)=>{const r=e.children[t];void 0!==r&&e.removeChild(r)};const hb=Y,Sm=Ie,Tm=cc,Um=(e,r)=>{let $,i,t,n,a,o=e[0],l=Tm(e[1]);return"string"==typeof o&&($=qm.exec(o))||_b(`${o} is not a valid tag name`),o!==(i=$[1])||!l||r&&!e[1].key?(a=l?Object.assign({},e[1]):{},t=$[2],n=$[3],t&&(a.id=t),n&&(n=n.replace(/\./g," "),a.class?a.class+=" "+n:a.class=n),a.__skip&&e.length<3?[i,a]:[i,a,...e.slice(l?2:1)]):e};const Vm=(e,r)=>O(r,e,e.ctx,[0],!1!==e.keys,!1!==e.span);const O=(e,r,$,i,t,n)=>{if(null!=e){if(hb(e)){if(0===e.length)return;let a,o,l=e[1];if(l&&(o=l.__impl)&&(o=o.normalizeTree))return o(r,e);const T=e[0];if("function"==typeof T)return O(T.apply(null,[$,...e.slice(1)]),r,$,i,t,n);if("function"==typeof T.render){const o=[$,...e.slice(1)];return a=O(T.render.apply(T,o),r,$,i,t,n),hb(a)&&(a.__this=T,a.__init=T.init,a.__release=T.release,a.__args=o),a}if(!1===(l=(a=Um(e,t))[1]).__normalize)return a;if(t&&void 0===l.key&&(l.key=i.join("-")),a.length>2){const e=a[0],o=[e,l];n=n&&!sm[e];for(let l=2,T=2,s=0,c=a.length;l<c;l++){let e=a[l];if(null!=e){const a=hb(e);if(a&&hb(e[0])||!a&&Sm(e))for(let l of e)void 0!==(l=O(l,r,$,i.concat(s),t,n))&&(o[T++]=l),s++;else void 0!==(e=O(e,r,$,i.concat(s),t,n))&&(o[T++]=e),s++}}return o}return a}return"function"==typeof e?O(e($),r,$,i,t,n):"function"==typeof e.toHiccup?O(e.toHiccup(r.ctx),r,$,i,t,n):"function"==typeof e.deref?O(e.deref(),r,$,i,t,n):n?["span",t?{key:i.join("-")}:{},e.toString()]:e.toString()}};const Xm={createTree(e,r,t,$,l){return cb(e,this,r,t,$,l)},hydrateTree(e,r,t,$){return db(e,this,r,t,$)},diffTree(e,r,t,$,l){$c(e,this,r,t,$,l)},normalizeTree:Vm,getElementById:e=>document.getElementById(e),getChild:Gm,createElement:Dm,createTextElement:Em,replaceChild(e,r,t,$,l){Hm(e,this,r,t,$,l)},removeChild:Qm,setContent:Im,removeAttribs:Mm,setAttrib:yd};const Ym=(e,o)=>ec(e)?o.getElementById(e):e;const Zm=(e,r={},t=Xm)=>{const $=Object.assign({root:"app"},r);let o=[],l=!0;const a=Ym($.root,t),i=()=>{if(l){$.ctx=xm(r.ctx,$.autoDerefKeys);const s=t.normalizeTree($,e);null!=s&&($.hydrate?(t.hydrateTree($,a,s),$.hydrate=!1):t.diffTree($,a,o,s),o=s),l&&requestAnimationFrame(i)}};return requestAnimationFrame(i),()=>l=!1};var $m={};function Ec(n,e,u){var l,o,r,t,a;function $(){var c=Date.now()-t;c<e&&c>=0?l=setTimeout($,e-c):(l=null,u||(a=n.apply(r,o),r=o=null))}null==e&&(e=100);var c=function(){r=this,o=arguments,t=Date.now();var c=u&&!l;return l||(l=setTimeout($,e)),c&&(a=n.apply(r,o),r=o=null),a};return c.clear=function(){l&&(clearTimeout(l),l=null)},c.flush=function(){l&&(a=n.apply(r,o),r=o=null,clearTimeout(l),l=null)},c}Ec.debounce=Ec,$m=Ec;var ng={};ng=cn;var bn=Object.prototype.hasOwnProperty;function cn(){for(var r={},$=0;$<arguments.length;$++){var a=arguments[$];for(var e in a)bn.call(a,e)&&(r[e]=a[e])}return r}var dn={};function en(){return window}dn={getWindow:en};var Hc,gn={},i=dn.getWindow;function jn(){for(var e=0,r=Hc.length;e<r;e++)Hc[e]()}function ud(e){if((e=e||i().history)&&e.state)return e.state.scroll}function kb(e,r){r=null==r?5:r;var n=ud(e);n&&i().requestAnimationFrame(function(){var $=n.x,t=n.y;if(0!==r){var o=i().pageXOffset,a=i().pageYOffset;t<i().document.body.scrollHeight&&($!==o||t!==a)?i().scrollTo($,t):kb(e,r-1)}})}function mn(e){e=ng({autoRestore:!0,captureScrollDebounce:50},e||{});var r=$m(function(){i().requestAnimationFrame(function(){var e=i().pageXOffset,r=i().pageYOffset,n=i().history.state,$=n&&n.scroll&&n.scroll.x,t=n&&n.scroll&&n.scroll.y;if($!==e||t!==r){var o=ng(n,{scroll:{x:e,y:r}});i().history.replaceState(o,null,i().location)}})},e.captureScrollDebounce);"scrollRestoration"in i().history&&(i().history.scrollRestoration="manual"),i().addEventListener("scroll",r,{passive:!0}),e.autoRestore&&i().addEventListener("popstate",kb),Hc=[function(){i().removeEventListener("scroll",r,{passive:!0})}],e.autoRestore&&Hc.push(function(){i().removeEventListener("popstate",kb)})}gn={start:mn,end:jn,restoreScroll:kb,getSavedScroll:ud};var nn=g(gn);nn.d.start();var on=Fb,pn=xl,ic=Hl,rn=vb,An=S.FLIP,tn=pd,un=qd,vn=Gd,Nc=Al,xn=Fa,yn=Gl,xb=function(){var $CJyf$$interop$default=g(mc);var $jopx$$interop$default=g(tc);var r=$CJyf$$interop$default.d($jopx$$interop$default.d.mark(function r(e,t){var $,a,o,n,i;return $jopx$$interop$default.d.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o="https://jsonplaceholder.typicode.com/",n=function(r){return"https://i.picsum.photos/id/".concat(r,"/600/600.jpg")},!t){r.next=10;break}var $W5Mo$$interop$default=g(q);return r.t1=n(t),r.next=6,fetch($W5Mo$$interop$default.d($=$W5Mo$$interop$default.d(a="".concat(o)).call(a,e,"/")).call($,t)).then(function(r){return r.json()});case 6:r.t2=r.sent,r.t0={img:r.t1,text:r.t2},r.next=11;break;case 10:r.t0=$CJyf$$interop$default.d($jopx$$interop$default.d.mark(function r(){var t,$;return $jopx$$interop$default.d.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch($W5Mo$$interop$default.d(t="".concat(o)).call(t,e,"/")).then(function(r){return r.json()});case 2:var $WGCD$$interop$default=g(rb);return $=r.sent,r.abrupt("return",$WGCD$$interop$default.d($).call($,function(r,e){return{img:n(e+1),text:r}}));case 4:case"end":return r.stop();}},r)}))();case 11:return i=r.t0,r.abrupt("return",i);case 13:case"end":return r.stop();}},r)}));return function(e,t){return r.apply(this,arguments)}}(),vm=function(){var $CJyf$$interop$default=g(mc);var $jopx$$interop$default=g(tc);var r=$CJyf$$interop$default.d($jopx$$interop$default.d.mark(function r(e){var t,$,a,o,n,i,c;return $jopx$$interop$default.d.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:var $ZVUC$$interop$default=g(rc);return t=rn(e),$=t.URL_path,a=$ZVUC$$interop$default.d($,2),o=a[1],n=new Pd([[La({},t,{URL_path:["todos"]}),{data:function(){return xb("todos")},page:"todos"}],[La({},t,{URL_path:["todos",o]}),{data:function(){return xb("todos",o)},page:"todo"}],[La({},t,{URL_path:["users"]}),{data:function(){return xb("users")},page:"users"}],[La({},t,{URL_path:["users",o]}),{data:function(){return xb("users",o)},page:"user"}]]).get(t)||{data:function(){return{home:"page"}},page:"bloop"},i=n.data,c=n.page,r.t0=c,r.next=7,i();case 7:return r.t1=r.sent,r.abrupt("return",{page:r.t0,data:r.t1});case 9:case"end":return r.stop();}},r)}));return function(e){return r.apply(this,arguments)}}(),rm=function(r,e){for(var t,$,a=arguments.length,o=new Array(a>2?a-2:0),n=2;n<a;n++)o[n-2]=arguments[n];var $W5Mo$$interop$default=g(q);return $W5Mo$$interop$default.d(t=["a",{href:$W5Mo$$interop$default.d($="".concat(Nc.deref(),"/")).call($,e),onclick:function(r){return ic(r)}}]).call(t,o)},Wd=function(r,e,t){var $,a;var $W5Mo$$interop$default=g(q);var $ETBe$$interop$default=g(kc);var $WGCD$$interop$default=g(rb);var $UkCK$$interop$default=g(Wb);return["li",{style:{display:"flex"}},"id"===e?[rm,t,t]:["p",{style:{padding:"0 0.5rem"}},e],He(t)?$W5Mo$$interop$default.d($=["ul"]).call($,$ETBe$$interop$default.d($WGCD$$interop$default.d(a=$UkCK$$interop$default.d(t)).call(a,function(r){var $ZVUC$$interop$default=g(rc);var e=$ZVUC$$interop$default.d(r,2),t=e[0],$=e[1];return[Wd,t,$]}))):["p",{style:{padding:"0 0.5rem"}},t]]},Md=function(r){var e,t,$;var $W5Mo$$interop$default=g(q);var $ETBe$$interop$default=g(kc);var $WGCD$$interop$default=g(rb);var $qowv$$interop$default=g(Sb);var $UkCK$$interop$default=g(Wb);return $W5Mo$$interop$default.d(e=["ul"]).call(e,$ETBe$$interop$default.d($WGCD$$interop$default.d(t=$qowv$$interop$default.d($=$UkCK$$interop$default.d(r)).call($,0,4)).call(t,function(r){var $ZVUC$$interop$default=g(rc);var e=$ZVUC$$interop$default.d(r,2),t=e[0],$=e[1];return[Wd,t,$]})))},il=function(r,e,t,$){for(var a,o=arguments.length,n=new Array(o>4?o-4:0),i=4;i<o;i++)n[i-4]=arguments[i];var $W5Mo$$interop$default=g(q);return $W5Mo$$interop$default.d(a=["img",La({},e,{src:t,style:"sm"===$?{height:"100px",width:"100px",overflow:"hidden",opacity:1}:{height:"600px",width:"600px",overflow:"hidden",opacity:1},scale:!0})]).call(a,n)},Fk={render:function(r,e){for(var t,$=r.$store$,a=arguments.length,o=new Array(a>2?a-2:0),n=2;n<a;n++)o[n-2]=arguments[n];var $W5Mo$$interop$default=g(q);return $W5Mo$$interop$default.d(t=[il,{onclick:function(r){var t;r.preventDefault();var a={preventDefault:function(){return null},target:{href:$W5Mo$$interop$default.d(t="".concat(Nc.deref(),"/")).call(t,/id\/(\d+)/g.exec(e)[1])},currentTarget:{document:null}};vn($,e+"_div",r),ic(a)}},e]).call(t,o)},init:function(r,e,t){var $=e.$store$;return tn(r,$,t+"_div")},release:function(r,e){var t=r.$store$;return un(t,e)}},fd=function(r){return function(e,t,$){return["div",{},[Fk,t,r],["p",{class:"title"},$]]}},Bk=function(r,e){for(var t,$=arguments.length,a=new Array($>2?$-2:0),o=2;o<$;o++)a[o-2]=arguments[o];var $W5Mo$$interop$default=g(q);return $W5Mo$$interop$default.d(t=["a",{href:"/"+e.join("/"),onclick:function(r){return ic(r)}}]).call(t,a)},yk=function(r,e){var t,$,a;var $W5Mo$$interop$default=g(q);var $ETBe$$interop$default=g(kc);var $WGCD$$interop$default=g(rb);return $W5Mo$$interop$default.d(t=["div",{style:{"max-width":"30rem",margin:"auto"}}]).call(t,$ETBe$$interop$default.d($WGCD$$interop$default.d($=[["users"],["todos",2],["users",9]]).call($,function(r){var e;return[Bk,r,$W5Mo$$interop$default.d(e="".concat(r[0]," ")).call(e,r[1]?"->"+r[1]:""),["br"]]})),[Y(e)?$W5Mo$$interop$default.d(a=["div"]).call(a,$ETBe$$interop$default.d($WGCD$$interop$default.d(e).call(e,function(r){var e=r.img,t=r.text;return[fd("sm"),e,Md(t)]}))):[fd("lg"),e&&e.img?e.img:"https://i.picsum.photos/id/111/600/600.jpg",e&&e.text?Md(e.text.company||e.text):null]])};pn(vm);var ik=function(r){return yn(r),document.getElementById(r)},zn=ik("app");console.log("starting..."),Zm(function(r){var e=r.$store$;return[yk,va(e.deref(),Nc.deref())]},{root:zn,ctx:{run$:on,$store$:xn},span:!1});})();